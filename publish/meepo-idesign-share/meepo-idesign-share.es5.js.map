{"version":3,"file":"meepo-idesign-share.es5.js","sources":["ts/meepo-idesign-share.ts","ts/design-share.module.ts","ts/components/public_api.ts","ts/components/background/background.ts","ts/components/size/size.ts","ts/components/color/color.ts","ts/ng-component.ts","ts/types.ts","ts/guid.ts"],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport {IDesignComponentModule,NgComponentDirective,DesignLibraryProp,DesignHistoryProp,DesignApiService,DesignLibraryService,DESIGN_LIBRARYS,DesignPropsService,DESIGN_COMPONENTS} from './public_api';\n\nexport {ShareBackgroundComponent as ɵe} from './components/background/background';\nexport {ShareColorComponent as ɵc} from './components/color/color';\nexport {shareComponents as ɵb} from './components/public_api';\nexport {ShareSizeComponent as ɵd} from './components/size/size';\nexport {DRAG_DROP_ALL as ɵa} from './ng-component';","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { NgComponentDirective, DRAG_DROP_ALL } from './ng-component';\nimport { DESIGN_LIBRARYS, DesignLibraryService, DesignApiService, DesignPropsService } from './types';\n\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\n\nimport { shareComponents } from './components/public_api';\nexport class IDesignComponentModule {\n/**\n * @param {?} coms\n * @param {?=} dragDropAll\n * @return {?}\n */\npublic static forRoot(coms: any, dragDropAll: boolean = false): ModuleWithProviders {\n        return {\n            ngModule: IDesignComponentModule,\n            providers: [{\n                provide: DESIGN_LIBRARYS,\n                useValue: coms,\n                multi: true\n            },{\n                provide: DRAG_DROP_ALL,\n                useValue: dragDropAll\n            }]\n        }\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n    imports: [\n        CommonModule,\n        ReactiveFormsModule\n    ],\n    exports: [\n        NgComponentDirective,\n        ...shareComponents\n    ],\n    declarations: [\n        NgComponentDirective,\n        ...shareComponents\n    ],\n    providers: [\n        DesignApiService,\n        DesignLibraryService,\n        DesignPropsService\n    ],\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction IDesignComponentModule_tsickle_Closure_declarations() {\n/** @type {?} */\nIDesignComponentModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nIDesignComponentModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { ShareColorComponent } from './color/color';\nimport { ShareSizeComponent } from './size/size';\nimport { ShareBackgroundComponent } from './background/background';\n\n\n\nexport const /** @type {?} */ shareComponents = [\n    ShareColorComponent,\n    ShareSizeComponent,\n    ShareBackgroundComponent\n];\n","import { Component, OnInit, Input } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nexport interface ShareBackgroundProps {\n    background: string | null;\n    backgroundAttachment: string | null;\n    backgroundClip: string | null;\n    backgroundColor: string | null;\n    backgroundImage: string | null;\n    backgroundOrigin: string | null;\n    backgroundPosition: string | null;\n    backgroundPositionX: string | null;\n    backgroundPositionY: string | null;\n    backgroundRepeat: string | null;\n    backgroundSize: string | null;\n}\nexport class ShareBackgroundComponent implements OnInit {\n     props: FormGroup;\nconstructor() { }\n/**\n * @return {?}\n */\nngOnInit() { }\n/**\n * @param {?} e\n * @return {?}\n */\nbackgroundImageChange(e: any) {\n        this.props.get('background-image').setValue(`url(${e.target.value})`);\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: 'share-background',\n    template: `\n      <div class=\"row\" [formGroup]=\"props\">\n          <input type=\"text\" (change)=\"backgroundImageChange($event)\" [attr.value]=\"props.get('background-image').value\">\n          <input type=\"text\" [formControlName]=\"'background-size'\">\n          <input type=\"text\" [formControlName]=\"'background-repeat'\">\n          <input type=\"text\" [formControlName]=\"'background-position'\">\n      </div>\n    `\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'props': [{ type: Input },],\n};\n}\n\nfunction ShareBackgroundComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nShareBackgroundComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nShareBackgroundComponent.ctorParameters;\n/** @type {?} */\nShareBackgroundComponent.propDecorators;\n/** @type {?} */\nShareBackgroundComponent.prototype.props;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Component, OnInit, Input } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nexport class ShareSizeComponent implements OnInit {\n     props: FormGroup;\n     unit: string[] = ['%', 'px']\nconstructor() { }\n/**\n * @return {?}\n */\nngOnInit() { }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: 'share-size',\n    template: `\n      <div class=\"row\" [formGroup]=\"props\">\n          <input type=\"number\" [attr.placeholder]=\"'宽度'+unit[0]\" [formControlName]=\"'width.'+unit[0]\">\n          <input type=\"number\" [attr.placeholder]=\"'高度'+unit[1]\" [formControlName]=\"'height.'+unit[1]\">\n      </div>\n    `,\n    styles: [`\n      .row {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-orient: horizontal;\n        -webkit-box-direction: normal;\n            -ms-flex-direction: row;\n                flex-direction: row;\n        width: 100%;\n        margin-top: 5px; }\n        .row input {\n          -webkit-box-flex: 1;\n              -ms-flex: 1;\n                  flex: 1;\n          width: 50%; }\n    `]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'props': [{ type: Input },],\n'unit': [{ type: Input },],\n};\n}\n\nfunction ShareSizeComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nShareSizeComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nShareSizeComponent.ctorParameters;\n/** @type {?} */\nShareSizeComponent.propDecorators;\n/** @type {?} */\nShareSizeComponent.prototype.props;\n/** @type {?} */\nShareSizeComponent.prototype.unit;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Component, OnInit, Input } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nexport class ShareColorComponent implements OnInit {\n     props: FormGroup;\nconstructor() { }\n/**\n * @return {?}\n */\nngOnInit() { }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: 'share-color',\n    template: `\n      <div class=\"row\" [formGroup]=\"props\">\n          <input type=\"color\" placeholder=\"背景色\" [formControlName]=\"'background-color'\">\n          <input type=\"color\" placeholder=\"前景色\" [formControlName]=\"'color'\">\n      </div>\n    `,\n    styles: [`\n      .row {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-orient: horizontal;\n        -webkit-box-direction: normal;\n            -ms-flex-direction: row;\n                flex-direction: row;\n        width: 100%;\n        margin-top: 5px; }\n        .row input {\n          -webkit-box-flex: 1;\n              -ms-flex: 1;\n                  flex: 1;\n          width: 50%; }\n    `]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'props': [{ type: Input },],\n};\n}\n\nfunction ShareColorComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nShareColorComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nShareColorComponent.ctorParameters;\n/** @type {?} */\nShareColorComponent.propDecorators;\n/** @type {?} */\nShareColorComponent.prototype.props;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","\nimport {\n    ComponentFactoryResolver, ComponentRef, Directive,\n    Injector, Input, NgModuleFactory, NgModuleRef,\n    OnChanges, OnDestroy, SimpleChanges, StaticProvider,\n    Type, ViewContainerRef, Output, OnInit, ComponentFactory,\n    HostListener, EventEmitter, TemplateRef,\n    IterableDiffers, NgIterable, IterableDiffer, IterableChangeRecord,\n    IterableChanges, Renderer2, InjectionToken, Inject\n} from '@angular/core';\nimport { ReactComponent } from 'ng-react-component';\nimport { fromEvent } from 'rxjs/observable/fromEvent';\nimport { DesignLibraryProp, DesignLibraryService, DesignPropsService, DesignApiService } from './types';\nimport { KeyValueChanges } from '@angular/core';\nimport { guid } from './guid';\nexport const /** @type {?} */ DRAG_DROP_ALL = new InjectionToken('DRAG_DROP_ALL');\nexport class NgComponentDirective implements OnChanges {\n    viewContainerRef: ViewContainerRef;\n    componentRef: ComponentRef<ReactComponent<any, any>>;\n    moduleRef: any;\n    // 组件列表\n     ngComponent: NgIterable<DesignLibraryProp>;\n    // 是否预览\n     ngComponentPreview: boolean;\n    // state\n     ngComponentState: any;\n    // class\n     ngComponentClass: any;\n    // style\n     ngComponentStyle: any;\n    // 是否可以拖拽\n     ngComponentDrag: any;\n    // 是否可以放置\n     ngComponentDrop: any;\n     ngComponentInstance: any;\n\n     ngComponentClick: (sm: any, instance: any) => {};\n\n    instances: any[] = [];\nprivate _differ: IterableDiffer<any>;\n/**\n * @param {?} _viewContainerRef\n * @param {?} _template\n * @param {?} differs\n * @param {?} librarys\n * @param {?} api\n * @param {?} props\n * @param {?} render\n * @param {?} dragDropAll\n */\nconstructor(\nprivate _viewContainerRef: ViewContainerRef,\nprivate _template: TemplateRef<any>,\nprivate differs: IterableDiffers,\nprivate librarys: DesignLibraryService,\nprivate api: DesignApiService,\nprivate props: DesignPropsService,\nprivate render: Renderer2,\nprivate dragDropAll: boolean\n    ) {\n        this.viewContainerRef = _viewContainerRef;\n    }\n/**\n * @return {?}\n */\nngDoCheck(): void {\n        if (this._differ) {\n            const /** @type {?} */ changes = this._differ.diff(this.ngComponent);\n            if (changes) {\n                changes.forEachOperation((item: IterableChangeRecord<any>, adjustedPreviousIndex: number, currentIndex: number) => {\n                    if (item.previousIndex == null) {\n                        this.createComponent(item, currentIndex);\n                    } else if (currentIndex == null) {\n                        this._viewContainerRef.remove(adjustedPreviousIndex);\n                    } else {\n                        const /** @type {?} */ view = /** @type {?} */(( this._viewContainerRef.get(adjustedPreviousIndex)));\n                        this._viewContainerRef.move(view, currentIndex);\n                    }\n                });\n            }\n        }\n    }\n/**\n * @param {?} item\n * @param {?} currentIndex\n * @return {?}\n */\nprivate createComponent(item: IterableChangeRecord<DesignLibraryProp>, currentIndex) {\n        try {\n            const /** @type {?} */ designLibraryProp: DesignLibraryProp = item.item;\n            if (designLibraryProp) {\n                let /** @type {?} */ component: Type<any>;\n                const /** @type {?} */ libs = this.librarys.get(designLibraryProp.name);\n                if (this.ngComponentPreview) {\n                    component = libs.view;\n                } else {\n                    component = libs.setting;\n                }\n                const /** @type {?} */ elInjector = this.viewContainerRef.parentInjector;\n                const /** @type {?} */ componentFactoryResolver: ComponentFactoryResolver = this.moduleRef ? this.moduleRef.componentFactoryResolver :\n                    elInjector.get(ComponentFactoryResolver);\n                const /** @type {?} */ componentFactory: ComponentFactory<any> =\n                    componentFactoryResolver.resolveComponentFactory(component);\n                const /** @type {?} */ componentRef = this.viewContainerRef.createComponent<ReactComponent<any, any>>(\n                    componentFactory,\n                    currentIndex,\n                    elInjector\n                );\n                // designLibraryProp.props = JSON.parse(JSON.stringify(designLibraryProp.props));\n                const { instance } = componentRef;\n                if (designLibraryProp.props) {\n                    instance.props = designLibraryProp.props;\n                }\n                if (designLibraryProp.state) {\n                    instance.state = designLibraryProp.state;\n                }\n                instance.onClick.subscribe((ev: MouseEvent) => {\n                    if (this.ngComponentPreview) {\n                        this.props.setActiveSettingProps(designLibraryProp, instance);\n                        ev.stopPropagation();\n                    }\n                });\n                instance.setClass(this.ngComponentClass);\n                instance.setStyle(this.ngComponentStyle);\n                instance.instance = this.ngComponentInstance;\n                if (this.ngComponentDrag || this.dragDropAll) {\n                    this.setDrage(instance);\n                }\n                if (this.ngComponentDrop || this.dragDropAll) {\n                    // this.setDrop(instance);\n                }\n                if (designLibraryProp.uuid) {\n                    instance.guid = designLibraryProp.uuid;\n                } else {\n                    designLibraryProp.uuid = instance.guid = guid();\n                }\n                // api\n                this.api.save(instance, designLibraryProp, this.ngComponentPreview);\n            }\n        } catch ( /** @type {?} */err) {\n            console.log(`${this.ngComponentPreview ? 'preview' : 'setting'} is not fond`, item);\n            console.dir(err);\n        }\n    }\n/**\n * @param {?} changes\n * @return {?}\n */\nngOnChanges(changes: SimpleChanges) {\n        this.viewContainerRef.clear();\n        if ('ngComponent' in changes) {\n            const /** @type {?} */ value = changes['ngComponent'].currentValue;\n            if (value && !this._differ) {\n                try {\n                    this._differ = this.differs.find(value).create()\n                } catch ( /** @type {?} */err) { }\n            }\n        }\n    }\n/**\n * @param {?} instance\n * @return {?}\n */\nprivate setDrage(instance: ReactComponent<any, any>) {\n        instance.setAttribute({\n            draggable: true\n        });\n        const /** @type {?} */ ele = instance.ele.nativeElement;\n        let /** @type {?} */ uuid: string;\n        fromEvent(ele, 'dragstart').subscribe((ev: DragEvent) => {\n            uuid = instance.guid;\n            ev.dataTransfer.setData(\"name\", 'guid_' + instance.guid);\n            ev.stopPropagation();\n        });\n        fromEvent(ele, 'dragend').subscribe((ev: DragEvent) => {\n            // dragend 删除这一个\n            // this.history.removeComponentByUuid(uuid);\n        });\n    }\n/**\n * @param {?} name\n * @return {?}\n */\nprivate isGuid(name: string) {\n        return name.indexOf('guid_') > -1;\n    }\n/**\n * @param {?} name\n * @return {?}\n */\nprivate trimGuid(name: string) {\n        return name.replace('guid_', '');\n    }\n/**\n * @param {?} obj\n * @return {?}\n */\nprivate deepCopy(obj: any) {\n        try {\n            return JSON.parse(JSON.stringify(obj));\n        } catch ( /** @type {?} */err) {\n            console.dir(err);\n            return {};\n        }\n    }\n/**\n * @param {?} instance\n * @return {?}\n */\nprivate setDrop(instance: ReactComponent<any, any>) {\n        const /** @type {?} */ ele = instance.ele.nativeElement;\n        fromEvent(ele, 'drop').subscribe((ev: DragEvent) => {\n            ev.preventDefault();\n            ev.stopPropagation();\n            var /** @type {?} */ data = ev.dataTransfer.getData(\"name\");\n            var /** @type {?} */ uuid = this.trimGuid(data);\n            if (!this.isGuid(data)) {\n                // 获取props\n                const /** @type {?} */ props = this.props.getPropsByName(data);\n                instance.props.children = instance.props.children || [];\n                const /** @type {?} */ deepProps = this.deepCopy(props);\n                // 记录上级\n                deepProps.father = instance.guid;\n                instance.props.children.push(deepProps);\n                this.props.instance.props.children.push(deepProps)\n            } else if (uuid !== instance.guid) {\n                // 移动已存在props\n                let /** @type {?} */ props = this.getInstanceProps(uuid);\n                if (props) {\n                    const /** @type {?} */ deepProps = this.deepCopy(props);\n                    deepProps.father = instance.guid;\n                    instance.props.children.push(deepProps);\n                }\n            }\n        });\n        fromEvent(ele, 'dragleave').subscribe((ev: DragEvent) => {\n            // dragend 删除这一个\n            this.render.removeStyle(ele, 'dashed');\n            ev.preventDefault();\n            ev.stopPropagation();\n        });\n        fromEvent(ele, 'dragover').subscribe((ev: DragEvent) => {\n            this.render.setStyle(ele, 'dashed', '1px lodash red');\n            ev.preventDefault();\n            ev.stopPropagation();\n        });\n    }\n/**\n * @param {?} uuid\n * @return {?}\n */\nprivate getInstanceProps(uuid: string) {\n        let /** @type {?} */ props: DesignLibraryProp;\n        this.instances.map(res => {\n            if (res.guid === uuid) {\n                props = res.props;\n            }\n        });\n        return props;\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{ selector: '[ngComponent]' }, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ViewContainerRef, },\n{type: TemplateRef, },\n{type: IterableDiffers, },\n{type: DesignLibraryService, },\n{type: DesignApiService, },\n{type: DesignPropsService, },\n{type: Renderer2, },\n{type: undefined, decorators: [{ type: Inject, args: [DRAG_DROP_ALL, ] }, ]},\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'ngComponent': [{ type: Input },],\n'ngComponentPreview': [{ type: Input },],\n'ngComponentState': [{ type: Input },],\n'ngComponentClass': [{ type: Input },],\n'ngComponentStyle': [{ type: Input },],\n'ngComponentDrag': [{ type: Input },],\n'ngComponentDrop': [{ type: Input },],\n'ngComponentInstance': [{ type: Input },],\n'ngComponentClick': [{ type: Input },],\n};\n}\n\nfunction NgComponentDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nNgComponentDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nNgComponentDirective.ctorParameters;\n/** @type {?} */\nNgComponentDirective.propDecorators;\n/** @type {?} */\nNgComponentDirective.prototype.viewContainerRef;\n/** @type {?} */\nNgComponentDirective.prototype.componentRef;\n/** @type {?} */\nNgComponentDirective.prototype.moduleRef;\n/** @type {?} */\nNgComponentDirective.prototype.ngComponent;\n/** @type {?} */\nNgComponentDirective.prototype.ngComponentPreview;\n/** @type {?} */\nNgComponentDirective.prototype.ngComponentState;\n/** @type {?} */\nNgComponentDirective.prototype.ngComponentClass;\n/** @type {?} */\nNgComponentDirective.prototype.ngComponentStyle;\n/** @type {?} */\nNgComponentDirective.prototype.ngComponentDrag;\n/** @type {?} */\nNgComponentDirective.prototype.ngComponentDrop;\n/** @type {?} */\nNgComponentDirective.prototype.ngComponentInstance;\n/** @type {?} */\nNgComponentDirective.prototype.ngComponentClick;\n/** @type {?} */\nNgComponentDirective.prototype.instances;\n/** @type {?} */\nNgComponentDirective.prototype._differ;\n/** @type {?} */\nNgComponentDirective.prototype._viewContainerRef;\n/** @type {?} */\nNgComponentDirective.prototype._template;\n/** @type {?} */\nNgComponentDirective.prototype.differs;\n/** @type {?} */\nNgComponentDirective.prototype.librarys;\n/** @type {?} */\nNgComponentDirective.prototype.api;\n/** @type {?} */\nNgComponentDirective.prototype.props;\n/** @type {?} */\nNgComponentDirective.prototype.render;\n/** @type {?} */\nNgComponentDirective.prototype.dragDropAll;\n}\n\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Type, Injector, NgModuleFactory } from '@angular/core';\n/**\n * @template T\n * @param {?} arr\n * @return {?}\n */\nfunction flatten<T>(arr: T[][]): T[] {\n    return Array.prototype.concat.apply([], arr);\n}\n// 页面组件结构\nexport interface DesignLibraryProp {\n    children: DesignLibraryProp[];\n    name: string;\n    uuid?: string;\n    props: any,\n    state?: any,\n    title: string;\n    father?: string;\n}\n// 历史记录结构\nexport interface DesignHistoryProp {\n    name: string;\n    data: DesignLibraryProp[];\n}\n\n\n\n\nimport { Injectable, InjectionToken, Inject } from '@angular/core';\nimport { Subject } from 'rxjs/Subject';\nimport { of } from 'rxjs/observable/of';\nimport'rxjs/add/operator/switchMap';\nimport { guid } from './guid';\n\nexport const /** @type {?} */ DESIGN_LIBRARYS = new InjectionToken('DESIGN_LIBRARYS');\nexport const /** @type {?} */ instancesMap: Map<string, { setting: any, view: any }> = new Map();\nexport class InstanceComponent {\n/**\n * @param {?} guid\n * @param {?} props\n * @param {?} instance\n */\nconstructor(\npublic guid: string,\npublic props: DesignLibraryProp,\npublic instance: any\n    ) { }\n}\n\nfunction InstanceComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nInstanceComponent.prototype.guid;\n/** @type {?} */\nInstanceComponent.prototype.props;\n/** @type {?} */\nInstanceComponent.prototype.instance;\n}\n\nexport class DesignApiService {\nconstructor() { }\n/**\n * @param {?} id\n * @return {?}\n */\nget(id: string) {\n        return instancesMap.get(id);\n    }\n/**\n * @param {?} instance\n * @param {?} designLibraryProp\n * @param {?} isPreview\n * @return {?}\n */\nsave(instance: any, designLibraryProp: any, isPreview) {\n        const /** @type {?} */ instanceComponent = new InstanceComponent(instance.guid, designLibraryProp, instance);\n        if (isPreview) {\n            let /** @type {?} */ map = instancesMap.get(instance.guid);\n            if (map) {\n                map.view = instanceComponent;\n            } else {\n                map = {\n                    setting: null,\n                    view: instanceComponent\n                }\n            }\n            instancesMap.set(instance.guid, map);\n        } else {\n            let /** @type {?} */ map = instancesMap.get(instance.guid);\n            if (map) {\n                map.setting = instanceComponent;\n            } else {\n                map = {\n                    setting: instanceComponent,\n                    view: null\n                }\n            }\n            instancesMap.set(instance.guid, map);\n        }\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction DesignApiService_tsickle_Closure_declarations() {\n/** @type {?} */\nDesignApiService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDesignApiService.ctorParameters;\n}\n\nexport const /** @type {?} */ DESIGN_COMPONENTS = new InjectionToken('DESIGN_COMPONENTS');\nimport'rxjs/add/operator/map';\nexport class DesignPropsService {\n    // 所有props\n    props: any[] = [];\n    // 当前页面\n    pageProps: DesignLibraryProp[] = [];\n    // 设置\n    _settingProps: DesignLibraryProp;\n/**\n * @param {?} val\n * @return {?}\n */\nset settingProps(val: DesignLibraryProp) {\n        this._settingProps = val;\n        try {\n            if (!this._settingProps) {\n                this.fathersProps = [];\n            }\n            this.fathers = this.getFather(this.settingProps);\n            if (this.fathers && this.fathers.length > 0) {\n                this.fathersProps = [];\n                this.fathers.map(res => {\n                    const /** @type {?} */ props = this.getPropsByUid(res);\n                    if (props) {\n                        this.fathersProps.push(props);\n                    }\n                });\n            }\n        } catch ( /** @type {?} */err) { }\n    }\n/**\n * @return {?}\n */\nget settingProps() {\n        return this._settingProps;\n    }\n    instance: any;\n    // 多级\n    fathers: any;\n    fathersProps: DesignLibraryProp[] = [];\n\n    historyKey: string = 'historyKey';\n    // 历史记录\n    historys: any[] = [];\n\n    removePosition: number[] = [];\n/**\n * @param {?} props\n * @param {?} library\n */\nconstructor(\n         props: any,\npublic library: DesignLibraryService\n    ) {\n        this.props = flatten(props);\n        try {\n            this.backToHistory();\n        } catch (err) {\n            localStorage.clear();\n        }\n    }\n/**\n * @param {?} designLibraryProp\n * @param {?} instance\n * @return {?}\n */\nsetActiveSettingProps(designLibraryProp: any, instance: any) {\n        this.settingProps = designLibraryProp;\n        if (this.instance) {\n            this.instance.removeClass('is-focus');\n        }\n        this.instance = instance;\n        instance.addClass('is-focus');\n        // instance.render.addClass(instance.ele.nativeElement,'is-focus');\n    }\n/**\n * @param {?} name\n * @return {?}\n */\ngetPropsByName(name: string): DesignLibraryProp {\n        let /** @type {?} */ com: DesignLibraryProp;\n        this.props.forEach((item) => {\n            if (name === item.name) {\n                com = item;\n            }\n        });\n        return com;\n    }\n/**\n * @param {?} name\n * @param {?=} father\n * @return {?}\n */\naddPropByName(name: string, father?: string) {\n        const /** @type {?} */ com = this.getPropsByName(name);\n        const /** @type {?} */ deepCopyCom: DesignLibraryProp = this.deepCopy(com);\n        if (deepCopyCom) {\n            if (deepCopyCom.uuid) {\n                // 交换位置\n            } else {\n                deepCopyCom.uuid = guid();\n                deepCopyCom.father = father || '';\n                const /** @type {?} */ lib = this.library.get(deepCopyCom.name);\n                deepCopyCom.props = new lib.default();\n                this.pageProps.push(deepCopyCom);\n                this.updateHistory();\n            }\n        }\n    }\n/**\n * @param {?} name\n * @return {?}\n */\naddPropsToInstanceByName(name: string) {\n        let /** @type {?} */ props = this.getPropsByName(name);\n        if (props) {\n            if (this.instance) {\n                const /** @type {?} */ deepProps = this.deepCopy(props);\n                deepProps.father = this.instance.guid;\n                const /** @type {?} */ lib = this.library.get(deepProps.name);\n                deepProps.props = new lib.default();\n                deepProps.uuid = guid();\n                this.instance.props.children = this.instance.props.children || [];\n                this.instance.props.children.push(deepProps);\n            } else {\n                const /** @type {?} */ deepProps = this.deepCopy(props);\n                deepProps.father = null;\n                const /** @type {?} */ lib = this.library.get(deepProps.name);\n                deepProps.props = new lib.default();\n                deepProps.uuid = guid();\n                this.pageProps.push(deepProps);\n            }\n        }\n    }\n/**\n * @return {?}\n */\ntoFatherProps() {\n        console.log(this.fathersProps);\n    }\n/**\n * @param {?} obj\n * @return {?}\n */\ndeepCopy(obj: any) {\n        try {\n            return JSON.parse(JSON.stringify(obj));\n        } catch ( /** @type {?} */err) {\n            console.dir(obj);\n        }\n    }\n/**\n * @param {?} name\n * @return {?}\n */\nprivate isGuid(name: string) {\n        return name.indexOf('guid_') > -1;\n    }\n/**\n * @param {?} name\n * @return {?}\n */\nprivate trimGuid(name: string) {\n        return name.replace('guid_', '');\n    }\n/**\n * @param {?} uuid\n * @return {?}\n */\nremovePropsByUid(uuid: string) {\n        uuid = this.trimGuid(uuid);\n        let /** @type {?} */ props = this.getPropsByUid(uuid);\n        if (props) {\n            if (props.father) {\n                let /** @type {?} */ father: any = this.getPropsByUid(props.father);\n                let /** @type {?} */ index = father.props.children.indexOf(props);\n                if (index > -1) {\n                    father.props.children.splice(index, 1);\n                }\n            } else {\n                let /** @type {?} */ index = this.pageProps.indexOf(props);\n                if (index > -1) {\n                    this.pageProps.splice(index, 1);\n                }\n            }\n        }\n        this.updateHistory();\n    }\n/**\n * @param {?} props\n * @param {?=} ids\n * @return {?}\n */\ngetFather(props: DesignLibraryProp, ids: any[] = []) {\n        ids.push(props.uuid);\n        if (props.father) {\n            let /** @type {?} */ father = this.getPropsByUid(props.father);\n            if (father) {\n                ids = this.getFather(( /** @type {?} */((<DesignLibraryProp>father))), ids);\n            }\n        }\n        return ids;\n    }\n/**\n * @param {?} uuid\n * @param {?=} data\n * @return {?}\n */\ngetPropsByUid(uuid: string, data?: DesignLibraryProp[]): DesignLibraryProp | false {\n        data = data || this.pageProps;\n        for (let /** @type {?} */ i = 0; i < data.length; i++) {\n            const /** @type {?} */ item = data[i];\n            if (item.uuid + '' === uuid + '') {\n                return item;\n            } else if (item.props.children) {\n                const /** @type {?} */ res = this.getPropsByUid(uuid, item.props.children);\n                if (res) {\n                    return res;\n                }\n            }\n        }\n        return false;\n    }\n/**\n * @return {?}\n */\ngetHistory(): DesignHistoryProp[] {\n        let /** @type {?} */ local = localStorage.getItem(this.historyKey);\n        if (local) {\n            const /** @type {?} */ items = /** @type {?} */(( JSON.parse(local) as DesignHistoryProp[]));\n            this.historys = items;\n            return items;\n        } else {\n            return [];\n        }\n    }\n/**\n * @return {?}\n */\nupdateHistory(): void {\n        this.historys.unshift({\n            name: new Date().toISOString(),\n            data: this.pageProps\n        });\n        if (this.historys.length > 50) {\n            this.historys = this.historys.splice(this.historys.length, this.historys.length - 50);\n        }\n        localStorage.setItem(this.historyKey, JSON.stringify(this.historys));\n    }\n/**\n * @param {?=} item\n * @return {?}\n */\nbackToHistory(item: DesignHistoryProp = null) {\n        if (!item) {\n            item = this.getHistory()[0];\n        }\n        this.pageProps = item.data;\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Inject, args: [DESIGN_COMPONENTS, ] }, ]},\n{type: DesignLibraryService, },\n];\n}\n\nfunction DesignPropsService_tsickle_Closure_declarations() {\n/** @type {?} */\nDesignPropsService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDesignPropsService.ctorParameters;\n/** @type {?} */\nDesignPropsService.prototype.props;\n/** @type {?} */\nDesignPropsService.prototype.pageProps;\n/** @type {?} */\nDesignPropsService.prototype._settingProps;\n/** @type {?} */\nDesignPropsService.prototype.instance;\n/** @type {?} */\nDesignPropsService.prototype.fathers;\n/** @type {?} */\nDesignPropsService.prototype.fathersProps;\n/** @type {?} */\nDesignPropsService.prototype.historyKey;\n/** @type {?} */\nDesignPropsService.prototype.historys;\n/** @type {?} */\nDesignPropsService.prototype.removePosition;\n/** @type {?} */\nDesignPropsService.prototype.library;\n}\n\nexport class DesignLibraryService {\nprivate components: { [key: string]: Type<any> }[] = [];\n/**\n * @param {?} components\n */\nconstructor(\n         components: any\n    ) {\n        this.components = flatten(components);\n    }\n/**\n * @param {?} name\n * @return {?}\n */\nget(name: string) {\n        let /** @type {?} */ com: any;\n        this.components.map(item => {\n            if (item[name]) {\n                com = item[name];\n            }\n        });\n        return com;\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Inject, args: [DESIGN_LIBRARYS, ] }, ]},\n];\n}\n\nfunction DesignLibraryService_tsickle_Closure_declarations() {\n/** @type {?} */\nDesignLibraryService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDesignLibraryService.ctorParameters;\n/** @type {?} */\nDesignLibraryService.prototype.components;\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","\n/**\n * @return {?}\n */\nexport function guid() {\n/**\n * @return {?}\n */\nfunction S4() {\n        return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\n    }\n    return (S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + S4() + S4());\n}\n"],"names":["fromEvent","map","guid"],"mappings":"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"}
