{"version":3,"file":"meepo-idesign.umd.min.js","sources":["../../../../../../node_modules/meepo-idesign-share/ts/types.ts","../../../../../../node_modules/meepo-idesign-share/ts/ng-component.ts","../../../../../../node_modules/meepo-idesign-share/ts/design-share.module.ts","~/meepo-idesign/design.service.ts","~/meepo-idesign/design.ts","~/meepo-idesign/drop-drag.ts","~/meepo-idesign/design.module.ts"],"sourcesContent":["import { Type, Injector, NgModuleFactory } from '@angular/core';\n/**\n * @template T\n * @param {?} arr\n * @return {?}\n */\nfunction flatten<T>(arr: T[][]): T[] {\n    return Array.prototype.concat.apply([], arr);\n}\n// 页面组件结构\nexport interface DesignLibraryProp {\n    children: DesignLibraryProp[];\n    name: string;\n    uuid?: string;\n    props: any,\n    state?: any,\n    title: string;\n}\n// 历史记录结构\nexport interface DesignHistoryProp {\n    name: string;\n    data: DesignLibraryProp[];\n}\n\nimport { Injectable, InjectionToken, Inject } from '@angular/core';\nexport const /** @type {?} */ DESIGN_LIBRARYS = new InjectionToken('DESIGN_LIBRARYS');\nexport class DesignApiService {\nconstructor() { }\n/**\n * @param {?} id\n * @return {?}\n */\nget(id: string) { }\n/**\n * @param {?} data\n * @param {?} id\n * @return {?}\n */\nsave(data: any, id: string) { }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction DesignApiService_tsickle_Closure_declarations() {\n/** @type {?} */\nDesignApiService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDesignApiService.ctorParameters;\n}\n\nexport class DesignLibraryService {\nprivate components: { [key: string]: Type<any> }[] = [];\n/**\n * @param {?} components\n */\nconstructor(\n         components: any\n    ) {\n        this.components = flatten(components);\n    }\n/**\n * @param {?} name\n * @return {?}\n */\nget(name: string) {\n        let /** @type {?} */ com: any;\n        this.components.map(item => {\n            if (item[name]) {\n                com = item[name];\n            }\n        });\n        return com;\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Inject, args: [DESIGN_LIBRARYS, ] }, ]},\n];\n}\n\nfunction DesignLibraryService_tsickle_Closure_declarations() {\n/** @type {?} */\nDesignLibraryService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDesignLibraryService.ctorParameters;\n/** @type {?} */\nDesignLibraryService.prototype.components;\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","\nimport {\n    ComponentFactoryResolver, ComponentRef, Directive,\n    Injector, Input, NgModuleFactory, NgModuleRef,\n    OnChanges, OnDestroy, SimpleChanges, StaticProvider,\n    Type, ViewContainerRef, Output, OnInit, ComponentFactory,\n    HostListener, EventEmitter, TemplateRef,\n    IterableDiffers, NgIterable, IterableDiffer, IterableChangeRecord,\n    IterableChanges\n} from '@angular/core';\nimport { ReactComponent } from 'ng-react-component';\nimport { fromEvent } from 'rxjs/observable/fromEvent';\nimport { DesignLibraryProp, DesignLibraryService } from './types';\nimport { KeyValueChanges } from '@angular/core';\nexport class NgComponentDirective implements OnChanges {\n    viewContainerRef: ViewContainerRef;\n    componentRef: ComponentRef<ReactComponent<any, any>>;\n    moduleRef: any;\n    // 组件列表\n     ngComponent: NgIterable<DesignLibraryProp>;\n    // 是否预览\n     ngComponentPreview: boolean;\n    // state\n     ngComponentState: any;\n    // class\n     ngComponentClass: any;\n    // style\n     ngComponentStyle: any;\n    // 是否可以拖拽\n     ngComponentDrag: any;\n    // 是否可以放置\n     ngComponentDrop: any;\n\n     ngComponentClick: (sm: any) => {};\n\n    instances: any[] = [];\nprivate _differ: IterableDiffer<any>;\n/**\n * @param {?} _viewContainerRef\n * @param {?} _template\n * @param {?} differs\n * @param {?} librarys\n */\nconstructor(\nprivate _viewContainerRef: ViewContainerRef,\nprivate _template: TemplateRef<any>,\nprivate differs: IterableDiffers,\nprivate librarys: DesignLibraryService\n    ) {\n        this.viewContainerRef = _viewContainerRef;\n    }\n/**\n * @return {?}\n */\nngDoCheck(): void {\n        if (this._differ) {\n            const /** @type {?} */ changes = this._differ.diff(this.ngComponent);\n            if (changes) {\n                changes.forEachOperation((item: IterableChangeRecord<any>, adjustedPreviousIndex: number, currentIndex: number) => {\n                    if (item.previousIndex == null) {\n                        this.createComponent(item, currentIndex);\n                    } else if (currentIndex == null) {\n                        this._viewContainerRef.remove(adjustedPreviousIndex);\n                    } else {\n                        const /** @type {?} */ view = /** @type {?} */(( this._viewContainerRef.get(adjustedPreviousIndex)));\n                        this._viewContainerRef.move(view, currentIndex);\n                    }\n                });\n            }\n        }\n    }\n/**\n * @param {?} item\n * @param {?} currentIndex\n * @return {?}\n */\nprivate createComponent(item: IterableChangeRecord<DesignLibraryProp>, currentIndex) {\n        try {\n            const /** @type {?} */ designLibraryProp: DesignLibraryProp = item.item;\n            let /** @type {?} */ component: Type<any>;\n            const /** @type {?} */ libs = this.librarys.get(designLibraryProp.name);\n            if (this.ngComponentPreview) {\n                component = libs.view;\n            } else {\n                component = libs.setting;\n            }\n            const /** @type {?} */ elInjector = this.viewContainerRef.parentInjector;\n            const /** @type {?} */ componentFactoryResolver: ComponentFactoryResolver = this.moduleRef ? this.moduleRef.componentFactoryResolver :\n                elInjector.get(ComponentFactoryResolver);\n            const /** @type {?} */ componentFactory: ComponentFactory<any> =\n                componentFactoryResolver.resolveComponentFactory(component);\n            const /** @type {?} */ componentRef = this.viewContainerRef.createComponent(\n                componentFactory,\n                currentIndex,\n                elInjector\n            );\n            // designLibraryProp.props = JSON.parse(JSON.stringify(designLibraryProp.props));\n            componentRef.instance.props = designLibraryProp.props;\n            componentRef.instance.onClick.subscribe(res => {\n                this.ngComponentClick && this.ngComponentClick(designLibraryProp)\n            });\n            componentRef.instance.setClass(this.ngComponentClass);\n            componentRef.instance.setStyle(this.ngComponentStyle);\n            this.setDrage(componentRef.instance);\n            this.setDrop(componentRef.instance);\n            designLibraryProp.uuid = componentRef.instance.guid;\n            const /** @type {?} */ instanceComponent = new InstanceComponent(componentRef.instance.guid, designLibraryProp);\n            this.instances.push(instanceComponent);\n        } catch ( /** @type {?} */err) { }\n    }\n/**\n * @param {?} changes\n * @return {?}\n */\nngOnChanges(changes: SimpleChanges) {\n        this.viewContainerRef.clear();\n        if ('ngComponent' in changes) {\n            const /** @type {?} */ value = changes['ngComponent'].currentValue;\n            if (value && !this._differ) {\n                try {\n                    this._differ = this.differs.find(value).create()\n                } catch ( /** @type {?} */err) { }\n            }\n        }\n    }\n/**\n * @param {?} instance\n * @return {?}\n */\nprivate setDrage(instance: ReactComponent<any, any>) {\n        instance.setAttribute({\n            draggable: true\n        });\n        const /** @type {?} */ ele = instance.ele.nativeElement;\n        let /** @type {?} */ uuid: string;\n        fromEvent(ele, 'dragstart').subscribe((ev: DragEvent) => {\n            uuid = instance.guid;\n            ev.dataTransfer.setData(\"name\", instance.guid);\n        });\n        fromEvent(ele, 'dragleave').subscribe((ev: DragEvent) => {\n            // dragend 删除这一个\n        });\n        fromEvent(ele, 'dragend').subscribe((ev: DragEvent) => {\n            // dragend 删除这一个\n            // this.history.removeComponentByUuid(uuid);\n        });\n    }\n/**\n * @param {?} instance\n * @return {?}\n */\nprivate setDrop(instance: ReactComponent<any, any>) {\n        const /** @type {?} */ ele = instance.ele.nativeElement;\n        fromEvent(ele, 'drop').subscribe((ev: DragEvent) => {\n            ev.preventDefault();\n            ev.stopPropagation();\n            var /** @type {?} */ data = ev.dataTransfer.getData(\"name\");\n            if (instance.guid !== data) {\n                // 自己放置自己 忽略 否则提示是放入内部还是互换位置\n                let /** @type {?} */ props = this.getInstanceProps(data);\n                if (props) {\n                    instance.props.children.push(props);\n                }\n            }\n        });\n        fromEvent(ele, 'dragover').subscribe((ev: DragEvent) => {\n            ele.style.bor\n            ev.preventDefault();\n            ev.stopPropagation();\n        });\n    }\n/**\n * @param {?} uuid\n * @return {?}\n */\nprivate getInstanceProps(uuid: string) {\n        let /** @type {?} */ props: DesignLibraryProp;\n        this.instances.map(res => {\n            if (res.guid === uuid) {\n                props = res.props;\n            }\n        });\n        return props;\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{ selector: '[ngComponent]' }, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ViewContainerRef, },\n{type: TemplateRef, },\n{type: IterableDiffers, },\n{type: DesignLibraryService, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'ngComponent': [{ type: Input },],\n'ngComponentPreview': [{ type: Input },],\n'ngComponentState': [{ type: Input },],\n'ngComponentClass': [{ type: Input },],\n'ngComponentStyle': [{ type: Input },],\n'ngComponentDrag': [{ type: Input },],\n'ngComponentDrop': [{ type: Input },],\n'ngComponentClick': [{ type: Input },],\n};\n}\n\nfunction NgComponentDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nNgComponentDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nNgComponentDirective.ctorParameters;\n/** @type {?} */\nNgComponentDirective.propDecorators;\n/** @type {?} */\nNgComponentDirective.prototype.viewContainerRef;\n/** @type {?} */\nNgComponentDirective.prototype.componentRef;\n/** @type {?} */\nNgComponentDirective.prototype.moduleRef;\n/** @type {?} */\nNgComponentDirective.prototype.ngComponent;\n/** @type {?} */\nNgComponentDirective.prototype.ngComponentPreview;\n/** @type {?} */\nNgComponentDirective.prototype.ngComponentState;\n/** @type {?} */\nNgComponentDirective.prototype.ngComponentClass;\n/** @type {?} */\nNgComponentDirective.prototype.ngComponentStyle;\n/** @type {?} */\nNgComponentDirective.prototype.ngComponentDrag;\n/** @type {?} */\nNgComponentDirective.prototype.ngComponentDrop;\n/** @type {?} */\nNgComponentDirective.prototype.ngComponentClick;\n/** @type {?} */\nNgComponentDirective.prototype.instances;\n/** @type {?} */\nNgComponentDirective.prototype._differ;\n/** @type {?} */\nNgComponentDirective.prototype._viewContainerRef;\n/** @type {?} */\nNgComponentDirective.prototype._template;\n/** @type {?} */\nNgComponentDirective.prototype.differs;\n/** @type {?} */\nNgComponentDirective.prototype.librarys;\n}\n\nexport class InstanceComponent {\n/**\n * @param {?} guid\n * @param {?} props\n */\nconstructor(\npublic guid: string,\npublic props: DesignLibraryProp\n    ) { }\n}\n\nfunction InstanceComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nInstanceComponent.prototype.guid;\n/** @type {?} */\nInstanceComponent.prototype.props;\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { NgModule } from '@angular/core';\nimport { NgComponentDirective } from './ng-component';\nexport class IDesignComponentModule { static decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n    imports: [],\n    exports: [\n        NgComponentDirective\n    ],\n    declarations: [\n        NgComponentDirective\n    ],\n    providers: [],\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction IDesignComponentModule_tsickle_Closure_declarations() {\n/** @type {?} */\nIDesignComponentModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nIDesignComponentModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Injectable, InjectionToken, Inject, Injector } from '@angular/core';\nexport const /** @type {?} */ historyKey = 'historyKey';\nimport { DesignHistoryProp, DesignLibraryProp, DesignLibraryService } from 'meepo-idesign-share';\nimport { Subject } from 'rxjs/Subject';\nexport const /** @type {?} */ DESIGN_COMPONENTS = new InjectionToken('DESIGN_COMPONENTS');\n/**\n * @template T\n * @param {?} arr\n * @return {?}\n */\nfunction flatten<T>(arr: T[][]): T[] {\n    return Array.prototype.concat.apply([], arr);\n}\nexport class DesignService {\n    _historys: DesignHistoryProp[] = [];\n/**\n * @param {?} val\n * @return {?}\n */\nset historys(val: DesignHistoryProp[]) {\n        this._historys = val;\n    }\n/**\n * @return {?}\n */\nget historys() {\n        return this._historys || [];\n    }\n    history$: Subject<DesignHistoryProp[]> = new Subject();\n\n    data: DesignLibraryProp[] = [];\n    data$: Subject<DesignLibraryProp[]> = new Subject();\n\n    allComponents: DesignLibraryProp[] = [];\n    components: DesignLibraryProp[][];\n\n\n    previewComponents: DesignLibraryProp[] = [];\n    previewComponents$: Subject<any> = new Subject();\n/**\n * @param {?} injector\n * @param {?} _allcomponents\n * @param {?} library\n */\nconstructor(\nprivate injector: Injector,\n         _allcomponents: any,\nprivate library: DesignLibraryService\n    ) { \n        this.allComponents = flatten(_allcomponents);\n    }\n/**\n * @param {?} uuid\n * @return {?}\n */\nremoveComponentByUuid(uuid: string) {\n        let /** @type {?} */ thisIndex: any;\n        this.previewComponents.map((res: DesignLibraryProp, index: number) => {\n            if (res.uuid === uuid) {\n                thisIndex = index;\n            }\n        });\n        this.previewComponents.splice(thisIndex, 1);\n        this.previewComponents$.next(this.previewComponents);\n    }\n/**\n * @param {?} name\n * @return {?}\n */\ngetComponentByName(name: string): DesignLibraryProp {\n        let /** @type {?} */ com: DesignLibraryProp;\n        this.allComponents.forEach((item) => {\n            if (name === item.name) {\n                com = item;\n            }\n        });\n        return com;\n    }\n/**\n * @return {?}\n */\ngetHistory(): DesignHistoryProp[] {\n        let /** @type {?} */ local = localStorage.getItem(historyKey);\n        if (local) {\n            const /** @type {?} */ items = /** @type {?} */(( JSON.parse(local) as DesignHistoryProp[]));\n            return items;\n        } else {\n            return [];\n        }\n    }\n/**\n * @param {?} data\n * @return {?}\n */\nupdateHistory(data: DesignHistoryProp[]): void {\n        this.historys = data;\n        if (this.historys.length > 50) {\n            this.historys = this.historys.splice(this.historys.length, this.historys.length - 50);\n        }\n        localStorage.setItem(historyKey, JSON.stringify(this.historys));\n        this.history$.next(this.historys);\n    }\n/**\n * @param {?=} item\n * @return {?}\n */\nbackToHistory(item: DesignHistoryProp = null) {\n        if (!item) {\n            item = this.getHistory()[0];\n        }\n        this.data = item.data;\n        this.data$.next(this.data);\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Injector, },\n{type: undefined, decorators: [{ type: Inject, args: [DESIGN_COMPONENTS, ] }, ]},\n{type: DesignLibraryService, },\n];\n}\n\nfunction DesignService_tsickle_Closure_declarations() {\n/** @type {?} */\nDesignService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDesignService.ctorParameters;\n/** @type {?} */\nDesignService.prototype._historys;\n/** @type {?} */\nDesignService.prototype.history$;\n/** @type {?} */\nDesignService.prototype.data;\n/** @type {?} */\nDesignService.prototype.data$;\n/** @type {?} */\nDesignService.prototype.allComponents;\n/** @type {?} */\nDesignService.prototype.components;\n/** @type {?} */\nDesignService.prototype.previewComponents;\n/** @type {?} */\nDesignService.prototype.previewComponents$;\n/** @type {?} */\nDesignService.prototype.injector;\n/** @type {?} */\nDesignService.prototype.library;\n}\n\n/**\n * @param {?} val\n * @return {?}\n */\nfunction type(val: any): string {\n    return typeof val;\n}\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {\n    Component, OnInit, ViewChild, ElementRef,\n    Host, Optional, Injectable, Output, EventEmitter,\n    InjectionToken, Inject\n} from '@angular/core';\nimport { HostBinding, ViewEncapsulation } from '@angular/core';\nimport { DesignLibraryProp, DesignHistoryProp } from 'meepo-idesign-share';\nimport { guid } from './uuid';\nimport { fromEvent } from 'rxjs/observable/fromEvent';\nimport { DesignService } from './design.service';\nimport { Router } from '@angular/router';\n/**\n * @param {?} obj\n * @return {?}\n */\nexport function deepCopy(obj: any) {\n    return JSON.parse(JSON.stringify(obj));\n}\nexport class DesignSettingComponent implements OnInit {\n     _setting: boolean = true;\n    item: DesignLibraryProp;\nconstructor() { }\n/**\n * @return {?}\n */\nngOnInit() { }\n/**\n * @param {?} com\n * @return {?}\n */\nsetSetting(com: DesignLibraryProp) {\n        this.item = com;\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: 'design-setting',\n    template: `\n\n      <ng-container *ngComponent=\"[item]\"></ng-container>\n\n      <div class=\"meepo-design-setting-empty\" *ngIf=\"!item\">\n          请选择要编辑的页面元素\n      </div>\n    `\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'_setting': [{ type: HostBinding, args: ['class.meepo-design-setting', ] },],\n};\n}\n\nfunction DesignSettingComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nDesignSettingComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDesignSettingComponent.ctorParameters;\n/** @type {?} */\nDesignSettingComponent.propDecorators;\n/** @type {?} */\nDesignSettingComponent.prototype._setting;\n/** @type {?} */\nDesignSettingComponent.prototype.item;\n}\n\nexport class DesignPreviewComponent implements OnInit {\n     _preview: boolean = true;\n     doClick: EventEmitter<any> = new EventEmitter();\n    components: DesignLibraryProp[] = [];\n    historys: DesignHistoryProp[];\n\n    directives: any = {\n        name: 'device-iphone-8 device-gold',\n        color: '',\n        src: './assets/img/bg-03.jpg',\n        type: 'image'\n    };\n\n    onClick: any = (e: DesignLibraryProp) => {\n        this.doClick.emit(e);\n    }\n\n    isOpen: boolean = false;\n/**\n * @param {?} history\n */\nconstructor(\nprivate history: DesignService\n    ) {\n        this.history.data$.subscribe(res => {\n            this.components = res;\n        });\n    }\n/**\n * @return {?}\n */\nngOnInit() {\n        // 最后一次操作\n        try {\n            this.history.backToHistory();\n            this.historys = this.history.historys;\n        } catch ( /** @type {?} */err) {\n            localStorage.clear();\n        }\n        this.history.previewComponents = this.components;\n\n        this.history.previewComponents$.subscribe(res => {\n            console.log(res);\n            this.components = res;\n        });\n    }\n/**\n * @param {?} e\n * @return {?}\n */\n_showMore(e: DesignLibraryProp) {\n        console.log('显示操作提示');\n    }\n/**\n * @param {?} name\n * @return {?}\n */\naddComponent(name: string) {\n        try {\n            const /** @type {?} */ com = this.history.getComponentByName(name);\n            if (com) {\n                this.components.push(deepCopy(com));\n                this.updateCache();\n            }\n        } catch ( /** @type {?} */err) {\n            console.log('undefined err', err);\n        }\n    }\n/**\n * @param {?} uuid\n * @return {?}\n */\nremoveComponent(uuid: string) {\n        let /** @type {?} */ idx: number = 0;\n        this.components.map((com: DesignLibraryProp, index: number) => {\n            if (com.uuid === uuid) {\n                idx = index;\n            }\n        });\n        this.components.splice(idx, 1);\n        this.updateCache();\n    }\n/**\n * @return {?}\n */\nupdateCache() {\n        const /** @type {?} */ now = new Date();\n        const /** @type {?} */ components = JSON.stringify(this.components)\n        const /** @type {?} */ history: DesignHistoryProp = {\n            name: now.toISOString(),\n            data: JSON.parse(components)\n        };\n        this.historys = this.historys || [];\n        this.historys.unshift(history);\n        this.history.updateHistory(this.historys);\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: 'design-preview',\n    template: `\n      <div class=\"meepo-design-preview-deletor\">\n          垃圾桶，将废弃组件拖入此间！\n      </div>\n      <div class=\"device device-iphone-8\" [ngClass]=\"directives.name\">\n          <div class=\"device-frame\">\n              <div class=\"meepo-design-preview-container device-content\" canDrop (canDropChange)=\"addComponent($event)\">\n                  <ng-container *ngComponent=\"components;preview: true;click: onClick;class: {'editing':true}\"></ng-container>\n              </div>\n          </div>\n          <div class=\"device-stripe\"></div>\n          <div class=\"device-header\"></div>\n          <div class=\"device-sensors\"></div>\n          <div class=\"device-btns\"></div>\n          <div class=\"device-power\"></div>\n          <div class=\"device-home\"></div>\n      </div>\n    `\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: DesignService, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'_preview': [{ type: HostBinding, args: ['class.meepo-design-preview', ] },],\n'doClick': [{ type: Output },],\n};\n}\n\nfunction DesignPreviewComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nDesignPreviewComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDesignPreviewComponent.ctorParameters;\n/** @type {?} */\nDesignPreviewComponent.propDecorators;\n/** @type {?} */\nDesignPreviewComponent.prototype._preview;\n/** @type {?} */\nDesignPreviewComponent.prototype.doClick;\n/** @type {?} */\nDesignPreviewComponent.prototype.components;\n/** @type {?} */\nDesignPreviewComponent.prototype.historys;\n/** @type {?} */\nDesignPreviewComponent.prototype.directives;\n/** @type {?} */\nDesignPreviewComponent.prototype.onClick;\n/** @type {?} */\nDesignPreviewComponent.prototype.isOpen;\n/** @type {?} */\nDesignPreviewComponent.prototype.history;\n}\n\nexport class DesignLibraryComponent implements OnInit {\n     _library: boolean = true;\n    components: DesignLibraryProp[] = [];\n/**\n * @param {?} history\n */\nconstructor(\nprivate history: DesignService\n    ) { }\n/**\n * @return {?}\n */\nngOnInit() {\n        this.components = this.history.allComponents;\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: 'design-library',\n    template: `\n      <ng-container *ngFor=\"let item of components\">\n          <div class=\"grid-item\" [canDrag]=\"item.name\">\n              <span>{{item.title}}</span>\n          </div>\n      </ng-container>\n      <div style=\"clear: both;\"></div>\n      <div style=\"height:88px;\"></div>\n    `\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: DesignService, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'_library': [{ type: HostBinding, args: ['class.meepo-design-library', ] },],\n};\n}\n\nfunction DesignLibraryComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nDesignLibraryComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDesignLibraryComponent.ctorParameters;\n/** @type {?} */\nDesignLibraryComponent.propDecorators;\n/** @type {?} */\nDesignLibraryComponent.prototype._library;\n/** @type {?} */\nDesignLibraryComponent.prototype.components;\n/** @type {?} */\nDesignLibraryComponent.prototype.history;\n}\n\nexport class DesignHistoryComponent implements OnInit {\n     _history: boolean = true;\n    items: DesignHistoryProp[] = [];\n/**\n * @param {?} history\n */\nconstructor(\npublic history: DesignService\n    ) {\n        this.items = this.getLocal();\n    }\n/**\n * @return {?}\n */\nngOnInit() {\n        this.history.history$.subscribe(res => {\n            this.items = res;\n        });\n    }\n/**\n * @return {?}\n */\ngetLocal(): DesignHistoryProp[] {\n        return this.history.getHistory();\n    }\n/**\n * @param {?} item\n * @return {?}\n */\nbackToHistory(item: DesignHistoryProp) {\n        this.history.backToHistory(item);\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: 'design-history',\n    template: `\n      <ul>\n          <li  (click)=\"backToHistory(item)\" *ngFor=\"let item of items\">{{item.name}}</li>\n      </ul>\n    `\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: DesignService, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'_history': [{ type: HostBinding, args: ['class.meepo-design-history', ] },],\n};\n}\n\nfunction DesignHistoryComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nDesignHistoryComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDesignHistoryComponent.ctorParameters;\n/** @type {?} */\nDesignHistoryComponent.propDecorators;\n/** @type {?} */\nDesignHistoryComponent.prototype._history;\n/** @type {?} */\nDesignHistoryComponent.prototype.items;\n/** @type {?} */\nDesignHistoryComponent.prototype.history;\n}\n\nexport const /** @type {?} */ DESIGN_PAGES = new InjectionToken('DESIGN_PAGES');\nexport class DesignPagesComponent implements OnInit {\n    pages: any[] = [];\n/**\n * @param {?} pages\n */\nconstructor(\n         pages: any[]\n    ) {\n        this.pages = pages;\n    }\n/**\n * @return {?}\n */\nngOnInit() { }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: 'design-pages',\n    template: `\n      <ul>\n          <li *ngFor=\"let page of pages\">\n              {{page.title}}\n          </li>\n      </ul>\n    `\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Array, decorators: [{ type: Inject, args: [DESIGN_PAGES, ] }, ]},\n];\n}\n\nfunction DesignPagesComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nDesignPagesComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDesignPagesComponent.ctorParameters;\n/** @type {?} */\nDesignPagesComponent.prototype.pages;\n}\n\nexport class DesignComponent implements OnInit {\n     _design: boolean = true;\n\n     _setting: DesignSettingComponent;\n     _library: DesignLibraryComponent;\n     _preview: DesignPreviewComponent;\n     _history: DesignHistoryComponent;\n     _pages: DesignPagesComponent;\n\n    activeHistory: boolean = false;\n/**\n * @param {?} history\n * @param {?} router\n */\nconstructor(\nprivate history: DesignService,\nprivate router: Router\n    ) { }\n/**\n * @return {?}\n */\nngOnInit() {\n\n    }\n/**\n * @param {?} com\n * @return {?}\n */\nsetSetting(com: DesignLibraryProp) {\n        this._setting.setSetting(com);\n    }\n/**\n * @return {?}\n */\nsaveToHistory() {\n        this._preview.updateCache();\n    }\n/**\n * @return {?}\n */\npreviewToHistory() {\n        this.router.navigate(['preview'])\n    }\n/**\n * @return {?}\n */\npostToHistory() { }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: 'design',\n    template: `\n      <div class=\"meepo-design-left\">\n          <ul class=\"meepo-design-left-header\">\n              <li [class.active]=\"activeHistory\" (click)=\"activeHistory = true\">历史记录</li>\n              <li [class.active]=\"!activeHistory\" (click)=\"activeHistory = false\">页面管理</li>\n          </ul>\n          <div class=\"meepo-design-left-container\">\n              <design-history *ngIf=\"activeHistory\"></design-history>\n              <design-pages *ngIf=\"!activeHistory\"></design-pages>\n          </div>\n      </div>\n      <!-- <design-library></design-library> -->\n      <design-preview (doClick)=\"setSetting($event)\"></design-preview>\n      <design-setting></design-setting>\n\n      <div class=\"meepo-design-footer\">\n          <a href=\"javascript:;\" (click)=\"saveToHistory()\" class=\"meepo-design-footer-save\">保存</a>\n          <a href=\"javascript:;\" (click)=\"previewToHistory()\" class=\"meepo-design-footer-preview\">预览</a>\n          <a href=\"javascript:;\" (click)=\"postToHistory()\" class=\"meepo-design-footer-post\">生成</a>\n      </div>\n    `,\n    styles: [`\n      .meepo-design {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        height: 100%;\n        width: 100%; }\n        .meepo-design .editing {\n          cursor: pointer; }\n        .meepo-design-history, .meepo-design-library, .meepo-design-preview, .meepo-design-setting, .meepo-design-pages {\n          min-height: 80px;\n          position: relative; }\n        .meepo-design-left-container {\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n          -webkit-box-orient: vertical;\n          -webkit-box-direction: normal;\n              -ms-flex-direction: column;\n                  flex-direction: column;\n          height: calc(100% - 44px);\n          overflow: auto;\n          width: 250px;\n          background: #efefef; }\n        .meepo-design-left-header {\n          list-style: none;\n          margin: 0px;\n          padding: 0px;\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n          -webkit-box-orient: horizontal;\n          -webkit-box-direction: normal;\n              -ms-flex-direction: row;\n                  flex-direction: row; }\n          .meepo-design-left-header li {\n            text-align: center;\n            -webkit-box-flex: 1;\n                -ms-flex: 1;\n                    flex: 1;\n            height: 44px;\n            line-height: 44px;\n            margin: 0px; }\n            .meepo-design-left-header li.active {\n              background: #db4804;\n              color: #fff; }\n        .meepo-design-pages {\n          display: block;\n          background: #efefef;\n          width: 250px;\n          max-height: 100%;\n          overflow: auto; }\n        .meepo-design-history {\n          display: block;\n          background: #efefef;\n          width: 250px;\n          max-height: 100%;\n          overflow: auto; }\n          .meepo-design-history ul {\n            list-style: none;\n            margin: 0px;\n            padding: 0px; }\n            .meepo-design-history ul li {\n              line-height: 30px;\n              background: #efefef;\n              cursor: pointer; }\n              .meepo-design-history ul li:hover {\n                opacity: .8;\n                background: #fff; }\n        .meepo-design-library {\n          background: white;\n          width: 200px;\n          display: block;\n          overflow: auto; }\n          .meepo-design-library:after {\n            clear: both;\n            content: \" \"; }\n          .meepo-design-library .grid-item {\n            float: left;\n            width: 50%;\n            text-align: center;\n            line-height: 44px;\n            background: #efefef;\n            border: 1px solid #fff;\n            cursor: pointer; }\n            .meepo-design-library .grid-item:hover {\n              background: #ccc; }\n        .meepo-design-preview {\n          display: block;\n          background: #f3f3f3;\n          width: 400px;\n          max-height: 100%;\n          overflow: auto; }\n          .meepo-design-preview .device {\n            margin: 0 auto; }\n          .meepo-design-preview-deletor {\n            height: 120px;\n            display: -webkit-box;\n            display: -ms-flexbox;\n            display: flex;\n            -webkit-box-orient: horizontal;\n            -webkit-box-direction: normal;\n                -ms-flex-direction: row;\n                    flex-direction: row;\n            -webkit-box-pack: center;\n                -ms-flex-pack: center;\n                    justify-content: center;\n            -webkit-box-align: center;\n                -ms-flex-align: center;\n                    align-items: center;\n            background: gray;\n            color: #fff;\n            margin-bottom: 10px;\n            margin-left: 10px;\n            margin-right: 10px; }\n          .meepo-design-preview-iphone {\n            margin: 0 auto; }\n          .meepo-design-preview-container {\n            height: 100%;\n            position: absolute;\n            top: 0px;\n            left: 0px;\n            right: 0px;\n            bottom: 0px; }\n          .meepo-design-preview .device-content {\n            overflow: auto;\n            width: 100%;\n            height: 100%; }\n        .meepo-design-setting {\n          display: block;\n          background: #efefef;\n          -webkit-box-flex: 1;\n              -ms-flex: 1;\n                  flex: 1;\n          padding: 0 10px;\n          border-left: 10px solid #fff; }\n          .meepo-design-setting-empty {\n            height: 100%;\n            display: -webkit-box;\n            display: -ms-flexbox;\n            display: flex;\n            -webkit-box-orient: vertical;\n            -webkit-box-direction: normal;\n                -ms-flex-direction: column;\n                    flex-direction: column;\n            -webkit-box-pack: center;\n                -ms-flex-pack: center;\n                    justify-content: center;\n            -webkit-box-align: center;\n                -ms-flex-align: center;\n                    align-items: center;\n            font-size: .8em;\n            color: gray; }\n        .meepo-design-footer {\n          position: fixed;\n          bottom: 0px;\n          left: 0px;\n          right: 0px;\n          height: 60px;\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n          -webkit-box-orient: horizontal;\n          -webkit-box-direction: normal;\n              -ms-flex-direction: row;\n                  flex-direction: row;\n          -webkit-box-pack: end;\n              -ms-flex-pack: end;\n                  justify-content: flex-end;\n          -webkit-box-align: center;\n              -ms-flex-align: center;\n                  align-items: center;\n          background: rgba(0, 0, 0, 0.5); }\n          .meepo-design-footer-save, .meepo-design-footer-preview, .meepo-design-footer-post {\n            width: 8em;\n            text-align: center;\n            height: 100%;\n            line-height: 60px; }\n          .meepo-design-footer-save {\n            background: #c74a06; }\n          .meepo-design-footer-preview {\n            background: #004fbf; }\n          .meepo-design-footer-post {\n            background: #0d7355; }\n          .meepo-design-footer a {\n            text-decoration: none;\n            color: #fff; }\n            .meepo-design-footer a:hover {\n              text-decoration: none; }\n    `],\n    encapsulation: ViewEncapsulation.None\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: DesignService, },\n{type: Router, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'_design': [{ type: HostBinding, args: ['class.meepo-design', ] },],\n'_setting': [{ type: ViewChild, args: [DesignSettingComponent, ] },],\n'_library': [{ type: ViewChild, args: [DesignLibraryComponent, ] },],\n'_preview': [{ type: ViewChild, args: [DesignPreviewComponent, ] },],\n'_history': [{ type: ViewChild, args: [DesignHistoryComponent, ] },],\n'_pages': [{ type: ViewChild, args: [DesignPagesComponent, ] },],\n};\n}\n\nfunction DesignComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nDesignComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDesignComponent.ctorParameters;\n/** @type {?} */\nDesignComponent.propDecorators;\n/** @type {?} */\nDesignComponent.prototype._design;\n/** @type {?} */\nDesignComponent.prototype._setting;\n/** @type {?} */\nDesignComponent.prototype._library;\n/** @type {?} */\nDesignComponent.prototype._preview;\n/** @type {?} */\nDesignComponent.prototype._history;\n/** @type {?} */\nDesignComponent.prototype._pages;\n/** @type {?} */\nDesignComponent.prototype.activeHistory;\n/** @type {?} */\nDesignComponent.prototype.history;\n/** @type {?} */\nDesignComponent.prototype.router;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {\n    Directive, Component, ElementRef, Renderer2,\n    OnInit, EventEmitter, TemplateRef\n} from '@angular/core';\nimport { fromEvent } from 'rxjs/observable/fromEvent';\nimport { HostBinding } from '@angular/core';\nimport { ViewContainerRef, ComponentRef, Input, Output } from '@angular/core';\nimport { takeUntil } from 'rxjs/operators/takeUntil';\nimport { switchMap } from 'rxjs/operators/switchMap';\nexport class CanDropDirective implements OnInit {\n     canDropChange: EventEmitter<any> = new EventEmitter();\n     canDrop: any;\n/**\n * @param {?} ele\n * @param {?} render\n */\nconstructor(\nprivate ele: ElementRef,\nprivate render: Renderer2\n    ) { }\n/**\n * @return {?}\n */\nngOnInit() {\n        fromEvent(this.ele.nativeElement, 'drop').subscribe((ev: DragEvent) => {\n            ev.preventDefault();\n            var /** @type {?} */ data = ev.dataTransfer.getData(\"name\");\n            this.canDropChange.emit(data);\n        });\n        fromEvent(this.ele.nativeElement, 'dragover').subscribe((ev: DragEvent) => {\n            ev.preventDefault();\n        });\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{ selector: '[canDrop]' }, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: Renderer2, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'canDropChange': [{ type: Output },],\n'canDrop': [{ type: Input },],\n};\n}\n\nfunction CanDropDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nCanDropDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nCanDropDirective.ctorParameters;\n/** @type {?} */\nCanDropDirective.propDecorators;\n/** @type {?} */\nCanDropDirective.prototype.canDropChange;\n/** @type {?} */\nCanDropDirective.prototype.canDrop;\n/** @type {?} */\nCanDropDirective.prototype.ele;\n/** @type {?} */\nCanDropDirective.prototype.render;\n}\n\nexport class CanDragDirective implements OnInit {\n     _drop: boolean = true;\n     canDrag: any;\n     canDragChange: EventEmitter<any> = new EventEmitter();\n/**\n * @param {?} ele\n * @param {?} render\n * @param {?} view\n */\nconstructor(\nprivate ele: ElementRef,\nprivate render: Renderer2,\nprivate view: ViewContainerRef\n    ) { }\n/**\n * @return {?}\n */\nngOnInit() {\n        fromEvent(this.ele.nativeElement, 'dragstart').subscribe((ev: DragEvent) => {\n            ev.dataTransfer.setData(\"name\", this.canDrag);\n        });\n        fromEvent(this.ele.nativeElement, 'dragend').subscribe(res => {\n            this.canDragChange.emit(this.canDrag);\n        });\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{ selector: '[canDrag]' }, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: Renderer2, },\n{type: ViewContainerRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'_drop': [{ type: HostBinding, args: ['attr.draggable', ] },],\n'canDrag': [{ type: Input },],\n'canDragChange': [{ type: Output },],\n};\n}\n\nfunction CanDragDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nCanDragDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nCanDragDirective.ctorParameters;\n/** @type {?} */\nCanDragDirective.propDecorators;\n/** @type {?} */\nCanDragDirective.prototype._drop;\n/** @type {?} */\nCanDragDirective.prototype.canDrag;\n/** @type {?} */\nCanDragDirective.prototype.canDragChange;\n/** @type {?} */\nCanDragDirective.prototype.ele;\n/** @type {?} */\nCanDragDirective.prototype.render;\n/** @type {?} */\nCanDragDirective.prototype.view;\n}\n\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {\n    NgModule, ModuleWithProviders, Optional,\n    SkipSelf, Injector, ModuleWithComponentFactories,\n} from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { DesignLibraryProp, DesignLibraryService } from 'meepo-idesign-share';\nimport { DESIGN_COMPONENTS, DesignService } from './design.service';\nimport { IDesignComponentModule } from 'meepo-idesign-share';\n\nimport {\n    DesignLibraryComponent, DesignComponent,\n    DesignHistoryComponent, DesignPreviewComponent,\n    DesignSettingComponent, DesignPagesComponent,\n    DESIGN_PAGES\n} from './design';\nimport { CanDropDirective, CanDragDirective } from './drop-drag';\nexport class IDesignModule {\n/**\n * @param {?=} pages\n * @return {?}\n */\nstatic forRoot(pages: any[] = []): ModuleWithProviders {\n        return {\n            ngModule: IDesignModule,\n            providers: [{\n                provide: DESIGN_PAGES,\n                useValue: pages\n            }]\n        }\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n    imports: [\n        CommonModule,\n        RouterModule.forChild([{\n            path: 'design',\n            component: DesignComponent\n        }]),\n        IDesignComponentModule\n    ],\n    exports: [\n        DesignLibraryComponent, DesignComponent,\n        DesignHistoryComponent, DesignPreviewComponent,\n        DesignSettingComponent, CanDropDirective, CanDragDirective,\n        DesignPagesComponent, IDesignComponentModule\n    ],\n    declarations: [\n        DesignLibraryComponent, DesignComponent,\n        DesignHistoryComponent, DesignPreviewComponent,\n        DesignSettingComponent, CanDropDirective, CanDragDirective,\n        DesignPagesComponent,\n    ],\n    providers: [\n        DesignService,\n        DesignLibraryService\n    ],\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction IDesignModule_tsickle_Closure_declarations() {\n/** @type {?} */\nIDesignModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nIDesignModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"],"names":["DESIGN_LIBRARYS","InjectionToken","DesignLibraryService","components","arr","this","Array","prototype","concat","apply","get","name","com","map","item","decorators","type","Injectable","ctorParameters","undefined","Inject","args","NgComponentDirective","_viewContainerRef","_template","differs","librarys","instances","viewContainerRef","ngDoCheck","_this","_differ","changes","diff","ngComponent","forEachOperation","adjustedPreviousIndex","currentIndex","previousIndex","createComponent","remove","view","move","designLibraryProp_1","component","libs","ngComponentPreview","setting","elInjector","parentInjector","componentFactory","moduleRef","componentFactoryResolver","ComponentFactoryResolver","resolveComponentFactory","componentRef","instance","props","onClick","subscribe","res","ngComponentClick","setClass","ngComponentClass","setStyle","ngComponentStyle","setDrage","setDrop","uuid","guid","instanceComponent","InstanceComponent","push","err","ngOnChanges","clear","value","currentValue","find","create","setAttribute","draggable","ele","nativeElement","fromEvent","ev","dataTransfer","setData","preventDefault","stopPropagation","data","getData","getInstanceProps","children","style","bor","Directive","selector","ViewContainerRef","TemplateRef","IterableDiffers","propDecorators","Input","ngComponentState","ngComponentDrag","ngComponentDrop","IDesignComponentModule","NgModule","imports","exports","declarations","providers","historyKey","DESIGN_COMPONENTS","DesignService","injector","_allcomponents","library","_historys","history$","Subject","data$","allComponents","previewComponents","previewComponents$","Object","defineProperty","set","val","removeComponentByUuid","thisIndex","index","splice","next","getComponentByName","forEach","getHistory","local","localStorage","getItem","JSON","parse","updateHistory","historys","length","setItem","stringify","backToHistory","Injector","DesignSettingComponent","_setting","ngOnInit","setSetting","Component","template","HostBinding","DesignPreviewComponent","history","_preview","doClick","EventEmitter","directives","color","src","e","emit","isOpen","console","log","_showMore","addComponent","obj","updateCache","removeComponent","idx","now","Date","toISOString","unshift","Output","DesignLibraryComponent","_library","DesignHistoryComponent","_history","items","getLocal","DESIGN_PAGES","DesignPagesComponent","pages","DesignComponent","router","_design","activeHistory","saveToHistory","previewToHistory","navigate","postToHistory","styles","encapsulation","ViewEncapsulation","None","Router","ViewChild","_pages","CanDropDirective","render","canDropChange","ElementRef","Renderer2","canDrop","CanDragDirective","_drop","canDragChange","canDrag","IDesignModule","forRoot","ngModule","provide","useValue","CommonModule","RouterModule","forChild","path"],"mappings":"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"}
