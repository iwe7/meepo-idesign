{"version":3,"file":"meepo-idesign.js","sources":["ts/meepo-idesign.ts","ts/design.module.ts","ts/drop-drag.ts","ts/design.ts","ts/design.service.ts","../../../../../node_modules/meepo-idesign-share/ts/design-share.module.ts","../../../../../node_modules/meepo-idesign-share/ts/ng-component.ts","../../../../../node_modules/meepo-idesign-share/ts/types.ts"],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport {IDesignModule,DesignService,DESIGN_COMPONENTS} from './index';\n\nexport {DESIGN_PAGES as ɵe,DesignComponent as ɵg,DesignHistoryComponent as ɵd,DesignLibraryComponent as ɵc,DesignPagesComponent as ɵf,DesignPreviewComponent as ɵb,DesignSettingComponent as ɵa} from './design';\nexport {CanDragDirective as ɵi,CanDropDirective as ɵh} from './drop-drag';","import {\n    NgModule, ModuleWithProviders, Optional,\n    SkipSelf, Injector, ModuleWithComponentFactories,\n} from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { DesignLibraryProp, DesignLibraryService } from 'meepo-idesign-share';\nimport { DESIGN_COMPONENTS, DesignService } from './design.service';\nimport { IDesignComponentModule } from 'meepo-idesign-share';\n\nimport {\n    DesignLibraryComponent, DesignComponent,\n    DesignHistoryComponent, DesignPreviewComponent,\n    DesignSettingComponent, DesignPagesComponent,\n    DESIGN_PAGES\n} from './design';\nimport { CanDropDirective, CanDragDirective } from './drop-drag';\nexport class IDesignModule {\n/**\n * @param {?=} pages\n * @return {?}\n */\nstatic forRoot(pages: any[] = []): ModuleWithProviders {\n        return {\n            ngModule: IDesignModule,\n            providers: [{\n                provide: DESIGN_PAGES,\n                useValue: pages\n            }]\n        }\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n    imports: [\n        CommonModule,\n        RouterModule.forChild([{\n            path: 'design',\n            component: DesignComponent\n        }]),\n        IDesignComponentModule\n    ],\n    exports: [\n        DesignLibraryComponent, DesignComponent,\n        DesignHistoryComponent, DesignPreviewComponent,\n        DesignSettingComponent, CanDropDirective, CanDragDirective,\n        DesignPagesComponent, IDesignComponentModule\n    ],\n    declarations: [\n        DesignLibraryComponent, DesignComponent,\n        DesignHistoryComponent, DesignPreviewComponent,\n        DesignSettingComponent, CanDropDirective, CanDragDirective,\n        DesignPagesComponent,\n    ],\n    providers: [\n        DesignService,\n        DesignLibraryService\n    ],\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction IDesignModule_tsickle_Closure_declarations() {\n/** @type {?} */\nIDesignModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nIDesignModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {\n    Directive, Component, ElementRef, Renderer2,\n    OnInit, EventEmitter, TemplateRef\n} from '@angular/core';\nimport { fromEvent } from 'rxjs/observable/fromEvent';\nimport { HostBinding } from '@angular/core';\nimport { ViewContainerRef, ComponentRef, Input, Output } from '@angular/core';\nimport { takeUntil } from 'rxjs/operators/takeUntil';\nimport { switchMap } from 'rxjs/operators/switchMap';\nexport class CanDropDirective implements OnInit {\n     canDropChange: EventEmitter<any> = new EventEmitter();\n     canDrop: any;\n/**\n * @param {?} ele\n * @param {?} render\n */\nconstructor(\nprivate ele: ElementRef,\nprivate render: Renderer2\n    ) { }\n/**\n * @return {?}\n */\nngOnInit() {\n        fromEvent(this.ele.nativeElement, 'drop').subscribe((ev: DragEvent) => {\n            ev.preventDefault();\n            var /** @type {?} */ data = ev.dataTransfer.getData(\"name\");\n            this.canDropChange.emit(data);\n        });\n        fromEvent(this.ele.nativeElement, 'dragover').subscribe((ev: DragEvent) => {\n            ev.preventDefault();\n        });\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{ selector: '[canDrop]' }, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: Renderer2, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'canDropChange': [{ type: Output },],\n'canDrop': [{ type: Input },],\n};\n}\n\nfunction CanDropDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nCanDropDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nCanDropDirective.ctorParameters;\n/** @type {?} */\nCanDropDirective.propDecorators;\n/** @type {?} */\nCanDropDirective.prototype.canDropChange;\n/** @type {?} */\nCanDropDirective.prototype.canDrop;\n/** @type {?} */\nCanDropDirective.prototype.ele;\n/** @type {?} */\nCanDropDirective.prototype.render;\n}\n\nexport class CanDragDirective implements OnInit {\n     _drop: boolean = true;\n     canDrag: any;\n     canDragChange: EventEmitter<any> = new EventEmitter();\n/**\n * @param {?} ele\n * @param {?} render\n * @param {?} view\n */\nconstructor(\nprivate ele: ElementRef,\nprivate render: Renderer2,\nprivate view: ViewContainerRef\n    ) { }\n/**\n * @return {?}\n */\nngOnInit() {\n        fromEvent(this.ele.nativeElement, 'dragstart').subscribe((ev: DragEvent) => {\n            ev.dataTransfer.setData(\"name\", this.canDrag);\n        });\n        fromEvent(this.ele.nativeElement, 'dragend').subscribe(res => {\n            this.canDragChange.emit(this.canDrag);\n        });\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{ selector: '[canDrag]' }, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: Renderer2, },\n{type: ViewContainerRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'_drop': [{ type: HostBinding, args: ['attr.draggable', ] },],\n'canDrag': [{ type: Input },],\n'canDragChange': [{ type: Output },],\n};\n}\n\nfunction CanDragDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nCanDragDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nCanDragDirective.ctorParameters;\n/** @type {?} */\nCanDragDirective.propDecorators;\n/** @type {?} */\nCanDragDirective.prototype._drop;\n/** @type {?} */\nCanDragDirective.prototype.canDrag;\n/** @type {?} */\nCanDragDirective.prototype.canDragChange;\n/** @type {?} */\nCanDragDirective.prototype.ele;\n/** @type {?} */\nCanDragDirective.prototype.render;\n/** @type {?} */\nCanDragDirective.prototype.view;\n}\n\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {\n    Component, OnInit, ViewChild, ElementRef,\n    Host, Optional, Injectable, Output, EventEmitter,\n    InjectionToken, Inject\n} from '@angular/core';\nimport { HostBinding, ViewEncapsulation } from '@angular/core';\nimport { DesignLibraryProp, DesignHistoryProp } from 'meepo-idesign-share';\nimport { guid } from './uuid';\nimport { fromEvent } from 'rxjs/observable/fromEvent';\nimport { DesignService } from './design.service';\nimport { Router } from '@angular/router';\n/**\n * @param {?} obj\n * @return {?}\n */\nexport function deepCopy(obj: any) {\n    return JSON.parse(JSON.stringify(obj));\n}\nexport class DesignSettingComponent implements OnInit {\n     _setting: boolean = true;\n    item: DesignLibraryProp;\nconstructor() { }\n/**\n * @return {?}\n */\nngOnInit() { }\n/**\n * @param {?} com\n * @return {?}\n */\nsetSetting(com: DesignLibraryProp) {\n        this.item = com;\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: 'design-setting',\n    template: `\n\n      <ng-container *ngComponent=\"[item]\"></ng-container>\n\n      <div class=\"meepo-design-setting-empty\" *ngIf=\"!item\">\n          请选择要编辑的页面元素\n      </div>\n    `\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'_setting': [{ type: HostBinding, args: ['class.meepo-design-setting', ] },],\n};\n}\n\nfunction DesignSettingComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nDesignSettingComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDesignSettingComponent.ctorParameters;\n/** @type {?} */\nDesignSettingComponent.propDecorators;\n/** @type {?} */\nDesignSettingComponent.prototype._setting;\n/** @type {?} */\nDesignSettingComponent.prototype.item;\n}\n\nexport class DesignPreviewComponent implements OnInit {\n     _preview: boolean = true;\n     doClick: EventEmitter<any> = new EventEmitter();\n    components: DesignLibraryProp[] = [];\n    historys: DesignHistoryProp[];\n\n    directives: any = {\n        name: 'device-iphone-8 device-gold',\n        color: '',\n        src: './assets/img/bg-03.jpg',\n        type: 'image'\n    };\n\n    onClick: any = (e: DesignLibraryProp) => {\n        this.doClick.emit(e);\n    }\n\n    isOpen: boolean = false;\n/**\n * @param {?} history\n */\nconstructor(\nprivate history: DesignService\n    ) {\n        this.history.data$.subscribe(res => {\n            this.components = res;\n        });\n    }\n/**\n * @return {?}\n */\nngOnInit() {\n        // 最后一次操作\n        try {\n            this.history.backToHistory();\n            this.historys = this.history.historys;\n        } catch ( /** @type {?} */err) {\n            localStorage.clear();\n        }\n        this.history.previewComponents = this.components;\n\n        this.history.previewComponents$.subscribe(res => {\n            console.log(res);\n            this.components = res;\n        });\n    }\n/**\n * @param {?} e\n * @return {?}\n */\n_showMore(e: DesignLibraryProp) {\n        console.log('显示操作提示');\n    }\n/**\n * @param {?} name\n * @return {?}\n */\naddComponent(name: string) {\n        try {\n            const /** @type {?} */ com = this.history.getComponentByName(name);\n            if (com) {\n                this.components.push(deepCopy(com));\n                this.updateCache();\n            }\n        } catch ( /** @type {?} */err) {\n            console.log('undefined err', err);\n        }\n    }\n/**\n * @param {?} uuid\n * @return {?}\n */\nremoveComponent(uuid: string) {\n        let /** @type {?} */ idx: number = 0;\n        this.components.map((com: DesignLibraryProp, index: number) => {\n            if (com.uuid === uuid) {\n                idx = index;\n            }\n        });\n        this.components.splice(idx, 1);\n        this.updateCache();\n    }\n/**\n * @return {?}\n */\nupdateCache() {\n        const /** @type {?} */ now = new Date();\n        const /** @type {?} */ components = JSON.stringify(this.components)\n        const /** @type {?} */ history: DesignHistoryProp = {\n            name: now.toISOString(),\n            data: JSON.parse(components)\n        };\n        this.historys = this.historys || [];\n        this.historys.unshift(history);\n        this.history.updateHistory(this.historys);\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: 'design-preview',\n    template: `\n      <div class=\"meepo-design-preview-deletor\">\n          垃圾桶，将废弃组件拖入此间！\n      </div>\n      <div class=\"device device-iphone-8\" [ngClass]=\"directives.name\">\n          <div class=\"device-frame\">\n              <div class=\"meepo-design-preview-container device-content\" canDrop (canDropChange)=\"addComponent($event)\">\n                  <ng-container *ngComponent=\"components;preview: true;click: onClick;class: {'editing':true}\"></ng-container>\n              </div>\n          </div>\n          <div class=\"device-stripe\"></div>\n          <div class=\"device-header\"></div>\n          <div class=\"device-sensors\"></div>\n          <div class=\"device-btns\"></div>\n          <div class=\"device-power\"></div>\n          <div class=\"device-home\"></div>\n      </div>\n    `\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: DesignService, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'_preview': [{ type: HostBinding, args: ['class.meepo-design-preview', ] },],\n'doClick': [{ type: Output },],\n};\n}\n\nfunction DesignPreviewComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nDesignPreviewComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDesignPreviewComponent.ctorParameters;\n/** @type {?} */\nDesignPreviewComponent.propDecorators;\n/** @type {?} */\nDesignPreviewComponent.prototype._preview;\n/** @type {?} */\nDesignPreviewComponent.prototype.doClick;\n/** @type {?} */\nDesignPreviewComponent.prototype.components;\n/** @type {?} */\nDesignPreviewComponent.prototype.historys;\n/** @type {?} */\nDesignPreviewComponent.prototype.directives;\n/** @type {?} */\nDesignPreviewComponent.prototype.onClick;\n/** @type {?} */\nDesignPreviewComponent.prototype.isOpen;\n/** @type {?} */\nDesignPreviewComponent.prototype.history;\n}\n\nexport class DesignLibraryComponent implements OnInit {\n     _library: boolean = true;\n    components: DesignLibraryProp[] = [];\n/**\n * @param {?} history\n */\nconstructor(\nprivate history: DesignService\n    ) { }\n/**\n * @return {?}\n */\nngOnInit() {\n        this.components = this.history.allComponents;\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: 'design-library',\n    template: `\n      <ng-container *ngFor=\"let item of components\">\n          <div class=\"grid-item\" [canDrag]=\"item.name\">\n              <span>{{item.title}}</span>\n          </div>\n      </ng-container>\n      <div style=\"clear: both;\"></div>\n      <div style=\"height:88px;\"></div>\n    `\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: DesignService, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'_library': [{ type: HostBinding, args: ['class.meepo-design-library', ] },],\n};\n}\n\nfunction DesignLibraryComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nDesignLibraryComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDesignLibraryComponent.ctorParameters;\n/** @type {?} */\nDesignLibraryComponent.propDecorators;\n/** @type {?} */\nDesignLibraryComponent.prototype._library;\n/** @type {?} */\nDesignLibraryComponent.prototype.components;\n/** @type {?} */\nDesignLibraryComponent.prototype.history;\n}\n\nexport class DesignHistoryComponent implements OnInit {\n     _history: boolean = true;\n    items: DesignHistoryProp[] = [];\n/**\n * @param {?} history\n */\nconstructor(\npublic history: DesignService\n    ) {\n        this.items = this.getLocal();\n    }\n/**\n * @return {?}\n */\nngOnInit() {\n        this.history.history$.subscribe(res => {\n            this.items = res;\n        });\n    }\n/**\n * @return {?}\n */\ngetLocal(): DesignHistoryProp[] {\n        return this.history.getHistory();\n    }\n/**\n * @param {?} item\n * @return {?}\n */\nbackToHistory(item: DesignHistoryProp) {\n        this.history.backToHistory(item);\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: 'design-history',\n    template: `\n      <ul>\n          <li  (click)=\"backToHistory(item)\" *ngFor=\"let item of items\">{{item.name}}</li>\n      </ul>\n    `\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: DesignService, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'_history': [{ type: HostBinding, args: ['class.meepo-design-history', ] },],\n};\n}\n\nfunction DesignHistoryComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nDesignHistoryComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDesignHistoryComponent.ctorParameters;\n/** @type {?} */\nDesignHistoryComponent.propDecorators;\n/** @type {?} */\nDesignHistoryComponent.prototype._history;\n/** @type {?} */\nDesignHistoryComponent.prototype.items;\n/** @type {?} */\nDesignHistoryComponent.prototype.history;\n}\n\nexport const /** @type {?} */ DESIGN_PAGES = new InjectionToken('DESIGN_PAGES');\nexport class DesignPagesComponent implements OnInit {\n    pages: any[] = [];\n/**\n * @param {?} pages\n */\nconstructor(\n         pages: any[]\n    ) {\n        this.pages = pages;\n    }\n/**\n * @return {?}\n */\nngOnInit() { }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: 'design-pages',\n    template: `\n      <ul>\n          <li *ngFor=\"let page of pages\">\n              {{page.title}}\n          </li>\n      </ul>\n    `\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Array, decorators: [{ type: Inject, args: [DESIGN_PAGES, ] }, ]},\n];\n}\n\nfunction DesignPagesComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nDesignPagesComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDesignPagesComponent.ctorParameters;\n/** @type {?} */\nDesignPagesComponent.prototype.pages;\n}\n\nexport class DesignComponent implements OnInit {\n     _design: boolean = true;\n\n     _setting: DesignSettingComponent;\n     _library: DesignLibraryComponent;\n     _preview: DesignPreviewComponent;\n     _history: DesignHistoryComponent;\n     _pages: DesignPagesComponent;\n\n    activeHistory: boolean = false;\n/**\n * @param {?} history\n * @param {?} router\n */\nconstructor(\nprivate history: DesignService,\nprivate router: Router\n    ) { }\n/**\n * @return {?}\n */\nngOnInit() {\n\n    }\n/**\n * @param {?} com\n * @return {?}\n */\nsetSetting(com: DesignLibraryProp) {\n        this._setting.setSetting(com);\n    }\n/**\n * @return {?}\n */\nsaveToHistory() {\n        this._preview.updateCache();\n    }\n/**\n * @return {?}\n */\npreviewToHistory() {\n        this.router.navigate(['preview'])\n    }\n/**\n * @return {?}\n */\npostToHistory() { }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: 'design',\n    template: `\n      <div class=\"meepo-design-left\">\n          <ul class=\"meepo-design-left-header\">\n              <li [class.active]=\"activeHistory\" (click)=\"activeHistory = true\">历史记录</li>\n              <li [class.active]=\"!activeHistory\" (click)=\"activeHistory = false\">页面管理</li>\n          </ul>\n          <div class=\"meepo-design-left-container\">\n              <design-history *ngIf=\"activeHistory\"></design-history>\n              <design-pages *ngIf=\"!activeHistory\"></design-pages>\n          </div>\n      </div>\n      <!-- <design-library></design-library> -->\n      <design-preview (doClick)=\"setSetting($event)\"></design-preview>\n      <design-setting></design-setting>\n\n      <div class=\"meepo-design-footer\">\n          <a href=\"javascript:;\" (click)=\"saveToHistory()\" class=\"meepo-design-footer-save\">保存</a>\n          <a href=\"javascript:;\" (click)=\"previewToHistory()\" class=\"meepo-design-footer-preview\">预览</a>\n          <a href=\"javascript:;\" (click)=\"postToHistory()\" class=\"meepo-design-footer-post\">生成</a>\n      </div>\n    `,\n    styles: [`\n      .meepo-design {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        height: 100%;\n        width: 100%; }\n        .meepo-design .editing {\n          cursor: pointer; }\n        .meepo-design-history, .meepo-design-library, .meepo-design-preview, .meepo-design-setting, .meepo-design-pages {\n          min-height: 80px;\n          position: relative; }\n        .meepo-design-left-container {\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n          -webkit-box-orient: vertical;\n          -webkit-box-direction: normal;\n              -ms-flex-direction: column;\n                  flex-direction: column;\n          height: calc(100% - 44px);\n          overflow: auto;\n          width: 250px;\n          background: #efefef; }\n        .meepo-design-left-header {\n          list-style: none;\n          margin: 0px;\n          padding: 0px;\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n          -webkit-box-orient: horizontal;\n          -webkit-box-direction: normal;\n              -ms-flex-direction: row;\n                  flex-direction: row; }\n          .meepo-design-left-header li {\n            text-align: center;\n            -webkit-box-flex: 1;\n                -ms-flex: 1;\n                    flex: 1;\n            height: 44px;\n            line-height: 44px;\n            margin: 0px; }\n            .meepo-design-left-header li.active {\n              background: #db4804;\n              color: #fff; }\n        .meepo-design-pages {\n          display: block;\n          background: #efefef;\n          width: 250px;\n          max-height: 100%;\n          overflow: auto; }\n        .meepo-design-history {\n          display: block;\n          background: #efefef;\n          width: 250px;\n          max-height: 100%;\n          overflow: auto; }\n          .meepo-design-history ul {\n            list-style: none;\n            margin: 0px;\n            padding: 0px; }\n            .meepo-design-history ul li {\n              line-height: 30px;\n              background: #efefef;\n              cursor: pointer; }\n              .meepo-design-history ul li:hover {\n                opacity: .8;\n                background: #fff; }\n        .meepo-design-library {\n          background: white;\n          width: 200px;\n          display: block;\n          overflow: auto; }\n          .meepo-design-library:after {\n            clear: both;\n            content: \" \"; }\n          .meepo-design-library .grid-item {\n            float: left;\n            width: 50%;\n            text-align: center;\n            line-height: 44px;\n            background: #efefef;\n            border: 1px solid #fff;\n            cursor: pointer; }\n            .meepo-design-library .grid-item:hover {\n              background: #ccc; }\n        .meepo-design-preview {\n          display: block;\n          background: #f3f3f3;\n          width: 400px;\n          max-height: 100%;\n          overflow: auto; }\n          .meepo-design-preview .device {\n            margin: 0 auto; }\n          .meepo-design-preview-deletor {\n            height: 120px;\n            display: -webkit-box;\n            display: -ms-flexbox;\n            display: flex;\n            -webkit-box-orient: horizontal;\n            -webkit-box-direction: normal;\n                -ms-flex-direction: row;\n                    flex-direction: row;\n            -webkit-box-pack: center;\n                -ms-flex-pack: center;\n                    justify-content: center;\n            -webkit-box-align: center;\n                -ms-flex-align: center;\n                    align-items: center;\n            background: gray;\n            color: #fff;\n            margin-bottom: 10px;\n            margin-left: 10px;\n            margin-right: 10px; }\n          .meepo-design-preview-iphone {\n            margin: 0 auto; }\n          .meepo-design-preview-container {\n            height: 100%;\n            position: absolute;\n            top: 0px;\n            left: 0px;\n            right: 0px;\n            bottom: 0px; }\n          .meepo-design-preview .device-content {\n            overflow: auto;\n            width: 100%;\n            height: 100%; }\n        .meepo-design-setting {\n          display: block;\n          background: #efefef;\n          -webkit-box-flex: 1;\n              -ms-flex: 1;\n                  flex: 1;\n          padding: 0 10px;\n          border-left: 10px solid #fff; }\n          .meepo-design-setting-empty {\n            height: 100%;\n            display: -webkit-box;\n            display: -ms-flexbox;\n            display: flex;\n            -webkit-box-orient: vertical;\n            -webkit-box-direction: normal;\n                -ms-flex-direction: column;\n                    flex-direction: column;\n            -webkit-box-pack: center;\n                -ms-flex-pack: center;\n                    justify-content: center;\n            -webkit-box-align: center;\n                -ms-flex-align: center;\n                    align-items: center;\n            font-size: .8em;\n            color: gray; }\n        .meepo-design-footer {\n          position: fixed;\n          bottom: 0px;\n          left: 0px;\n          right: 0px;\n          height: 60px;\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n          -webkit-box-orient: horizontal;\n          -webkit-box-direction: normal;\n              -ms-flex-direction: row;\n                  flex-direction: row;\n          -webkit-box-pack: end;\n              -ms-flex-pack: end;\n                  justify-content: flex-end;\n          -webkit-box-align: center;\n              -ms-flex-align: center;\n                  align-items: center;\n          background: rgba(0, 0, 0, 0.5); }\n          .meepo-design-footer-save, .meepo-design-footer-preview, .meepo-design-footer-post {\n            width: 8em;\n            text-align: center;\n            height: 100%;\n            line-height: 60px; }\n          .meepo-design-footer-save {\n            background: #c74a06; }\n          .meepo-design-footer-preview {\n            background: #004fbf; }\n          .meepo-design-footer-post {\n            background: #0d7355; }\n          .meepo-design-footer a {\n            text-decoration: none;\n            color: #fff; }\n            .meepo-design-footer a:hover {\n              text-decoration: none; }\n    `],\n    encapsulation: ViewEncapsulation.None\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: DesignService, },\n{type: Router, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'_design': [{ type: HostBinding, args: ['class.meepo-design', ] },],\n'_setting': [{ type: ViewChild, args: [DesignSettingComponent, ] },],\n'_library': [{ type: ViewChild, args: [DesignLibraryComponent, ] },],\n'_preview': [{ type: ViewChild, args: [DesignPreviewComponent, ] },],\n'_history': [{ type: ViewChild, args: [DesignHistoryComponent, ] },],\n'_pages': [{ type: ViewChild, args: [DesignPagesComponent, ] },],\n};\n}\n\nfunction DesignComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nDesignComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDesignComponent.ctorParameters;\n/** @type {?} */\nDesignComponent.propDecorators;\n/** @type {?} */\nDesignComponent.prototype._design;\n/** @type {?} */\nDesignComponent.prototype._setting;\n/** @type {?} */\nDesignComponent.prototype._library;\n/** @type {?} */\nDesignComponent.prototype._preview;\n/** @type {?} */\nDesignComponent.prototype._history;\n/** @type {?} */\nDesignComponent.prototype._pages;\n/** @type {?} */\nDesignComponent.prototype.activeHistory;\n/** @type {?} */\nDesignComponent.prototype.history;\n/** @type {?} */\nDesignComponent.prototype.router;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Injectable, InjectionToken, Inject, Injector } from '@angular/core';\nexport const /** @type {?} */ historyKey = 'historyKey';\nimport { DesignHistoryProp, DesignLibraryProp, DesignLibraryService } from 'meepo-idesign-share';\nimport { Subject } from 'rxjs/Subject';\nexport const /** @type {?} */ DESIGN_COMPONENTS = new InjectionToken('DESIGN_COMPONENTS');\n/**\n * @template T\n * @param {?} arr\n * @return {?}\n */\nfunction flatten<T>(arr: T[][]): T[] {\n    return Array.prototype.concat.apply([], arr);\n}\nexport class DesignService {\n    _historys: DesignHistoryProp[] = [];\n/**\n * @param {?} val\n * @return {?}\n */\nset historys(val: DesignHistoryProp[]) {\n        this._historys = val;\n    }\n/**\n * @return {?}\n */\nget historys() {\n        return this._historys || [];\n    }\n    history$: Subject<DesignHistoryProp[]> = new Subject();\n\n    data: DesignLibraryProp[] = [];\n    data$: Subject<DesignLibraryProp[]> = new Subject();\n\n    allComponents: DesignLibraryProp[] = [];\n    components: DesignLibraryProp[][];\n\n\n    previewComponents: DesignLibraryProp[] = [];\n    previewComponents$: Subject<any> = new Subject();\n/**\n * @param {?} injector\n * @param {?} _allcomponents\n * @param {?} library\n */\nconstructor(\nprivate injector: Injector,\n         _allcomponents: any,\nprivate library: DesignLibraryService\n    ) { \n        this.allComponents = flatten(_allcomponents);\n    }\n/**\n * @param {?} uuid\n * @return {?}\n */\nremoveComponentByUuid(uuid: string) {\n        let /** @type {?} */ thisIndex: any;\n        this.previewComponents.map((res: DesignLibraryProp, index: number) => {\n            if (res.uuid === uuid) {\n                thisIndex = index;\n            }\n        });\n        this.previewComponents.splice(thisIndex, 1);\n        this.previewComponents$.next(this.previewComponents);\n    }\n/**\n * @param {?} name\n * @return {?}\n */\ngetComponentByName(name: string): DesignLibraryProp {\n        let /** @type {?} */ com: DesignLibraryProp;\n        this.allComponents.forEach((item) => {\n            if (name === item.name) {\n                com = item;\n            }\n        });\n        return com;\n    }\n/**\n * @return {?}\n */\ngetHistory(): DesignHistoryProp[] {\n        let /** @type {?} */ local = localStorage.getItem(historyKey);\n        if (local) {\n            const /** @type {?} */ items = /** @type {?} */(( JSON.parse(local) as DesignHistoryProp[]));\n            return items;\n        } else {\n            return [];\n        }\n    }\n/**\n * @param {?} data\n * @return {?}\n */\nupdateHistory(data: DesignHistoryProp[]): void {\n        this.historys = data;\n        if (this.historys.length > 50) {\n            this.historys = this.historys.splice(this.historys.length, this.historys.length - 50);\n        }\n        localStorage.setItem(historyKey, JSON.stringify(this.historys));\n        this.history$.next(this.historys);\n    }\n/**\n * @param {?=} item\n * @return {?}\n */\nbackToHistory(item: DesignHistoryProp = null) {\n        if (!item) {\n            item = this.getHistory()[0];\n        }\n        this.data = item.data;\n        this.data$.next(this.data);\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Injector, },\n{type: undefined, decorators: [{ type: Inject, args: [DESIGN_COMPONENTS, ] }, ]},\n{type: DesignLibraryService, },\n];\n}\n\nfunction DesignService_tsickle_Closure_declarations() {\n/** @type {?} */\nDesignService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDesignService.ctorParameters;\n/** @type {?} */\nDesignService.prototype._historys;\n/** @type {?} */\nDesignService.prototype.history$;\n/** @type {?} */\nDesignService.prototype.data;\n/** @type {?} */\nDesignService.prototype.data$;\n/** @type {?} */\nDesignService.prototype.allComponents;\n/** @type {?} */\nDesignService.prototype.components;\n/** @type {?} */\nDesignService.prototype.previewComponents;\n/** @type {?} */\nDesignService.prototype.previewComponents$;\n/** @type {?} */\nDesignService.prototype.injector;\n/** @type {?} */\nDesignService.prototype.library;\n}\n\n/**\n * @param {?} val\n * @return {?}\n */\nfunction type(val: any): string {\n    return typeof val;\n}\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { NgModule } from '@angular/core';\nimport { NgComponentDirective } from './ng-component';\nexport class IDesignComponentModule { static decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n    imports: [],\n    exports: [\n        NgComponentDirective\n    ],\n    declarations: [\n        NgComponentDirective\n    ],\n    providers: [],\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction IDesignComponentModule_tsickle_Closure_declarations() {\n/** @type {?} */\nIDesignComponentModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nIDesignComponentModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","\nimport {\n    ComponentFactoryResolver, ComponentRef, Directive,\n    Injector, Input, NgModuleFactory, NgModuleRef,\n    OnChanges, OnDestroy, SimpleChanges, StaticProvider,\n    Type, ViewContainerRef, Output, OnInit, ComponentFactory,\n    HostListener, EventEmitter, TemplateRef,\n    IterableDiffers, NgIterable, IterableDiffer, IterableChangeRecord,\n    IterableChanges\n} from '@angular/core';\nimport { ReactComponent } from 'ng-react-component';\nimport { fromEvent } from 'rxjs/observable/fromEvent';\nimport { DesignLibraryProp, DesignLibraryService } from './types';\nimport { KeyValueChanges } from '@angular/core';\nexport class NgComponentDirective implements OnChanges {\n    viewContainerRef: ViewContainerRef;\n    componentRef: ComponentRef<ReactComponent<any, any>>;\n    moduleRef: any;\n    // 组件列表\n     ngComponent: NgIterable<DesignLibraryProp>;\n    // 是否预览\n     ngComponentPreview: boolean;\n    // state\n     ngComponentState: any;\n    // class\n     ngComponentClass: any;\n    // style\n     ngComponentStyle: any;\n    // 是否可以拖拽\n     ngComponentDrag: any;\n    // 是否可以放置\n     ngComponentDrop: any;\n\n     ngComponentClick: (sm: any) => {};\n\n    instances: any[] = [];\nprivate _differ: IterableDiffer<any>;\n/**\n * @param {?} _viewContainerRef\n * @param {?} _template\n * @param {?} differs\n * @param {?} librarys\n */\nconstructor(\nprivate _viewContainerRef: ViewContainerRef,\nprivate _template: TemplateRef<any>,\nprivate differs: IterableDiffers,\nprivate librarys: DesignLibraryService\n    ) {\n        this.viewContainerRef = _viewContainerRef;\n    }\n/**\n * @return {?}\n */\nngDoCheck(): void {\n        if (this._differ) {\n            const /** @type {?} */ changes = this._differ.diff(this.ngComponent);\n            if (changes) {\n                changes.forEachOperation((item: IterableChangeRecord<any>, adjustedPreviousIndex: number, currentIndex: number) => {\n                    if (item.previousIndex == null) {\n                        this.createComponent(item, currentIndex);\n                    } else if (currentIndex == null) {\n                        this._viewContainerRef.remove(adjustedPreviousIndex);\n                    } else {\n                        const /** @type {?} */ view = /** @type {?} */(( this._viewContainerRef.get(adjustedPreviousIndex)));\n                        this._viewContainerRef.move(view, currentIndex);\n                    }\n                });\n            }\n        }\n    }\n/**\n * @param {?} item\n * @param {?} currentIndex\n * @return {?}\n */\nprivate createComponent(item: IterableChangeRecord<DesignLibraryProp>, currentIndex) {\n        try {\n            const /** @type {?} */ designLibraryProp: DesignLibraryProp = item.item;\n            let /** @type {?} */ component: Type<any>;\n            const /** @type {?} */ libs = this.librarys.get(designLibraryProp.name);\n            if (this.ngComponentPreview) {\n                component = libs.view;\n            } else {\n                component = libs.setting;\n            }\n            const /** @type {?} */ elInjector = this.viewContainerRef.parentInjector;\n            const /** @type {?} */ componentFactoryResolver: ComponentFactoryResolver = this.moduleRef ? this.moduleRef.componentFactoryResolver :\n                elInjector.get(ComponentFactoryResolver);\n            const /** @type {?} */ componentFactory: ComponentFactory<any> =\n                componentFactoryResolver.resolveComponentFactory(component);\n            const /** @type {?} */ componentRef = this.viewContainerRef.createComponent(\n                componentFactory,\n                currentIndex,\n                elInjector\n            );\n            // designLibraryProp.props = JSON.parse(JSON.stringify(designLibraryProp.props));\n            componentRef.instance.props = designLibraryProp.props;\n            componentRef.instance.onClick.subscribe(res => {\n                this.ngComponentClick && this.ngComponentClick(designLibraryProp)\n            });\n            componentRef.instance.setClass(this.ngComponentClass);\n            componentRef.instance.setStyle(this.ngComponentStyle);\n            this.setDrage(componentRef.instance);\n            this.setDrop(componentRef.instance);\n            designLibraryProp.uuid = componentRef.instance.guid;\n            const /** @type {?} */ instanceComponent = new InstanceComponent(componentRef.instance.guid, designLibraryProp);\n            this.instances.push(instanceComponent);\n        } catch ( /** @type {?} */err) { }\n    }\n/**\n * @param {?} changes\n * @return {?}\n */\nngOnChanges(changes: SimpleChanges) {\n        this.viewContainerRef.clear();\n        if ('ngComponent' in changes) {\n            const /** @type {?} */ value = changes['ngComponent'].currentValue;\n            if (value && !this._differ) {\n                try {\n                    this._differ = this.differs.find(value).create()\n                } catch ( /** @type {?} */err) { }\n            }\n        }\n    }\n/**\n * @param {?} instance\n * @return {?}\n */\nprivate setDrage(instance: ReactComponent<any, any>) {\n        instance.setAttribute({\n            draggable: true\n        });\n        const /** @type {?} */ ele = instance.ele.nativeElement;\n        let /** @type {?} */ uuid: string;\n        fromEvent(ele, 'dragstart').subscribe((ev: DragEvent) => {\n            uuid = instance.guid;\n            ev.dataTransfer.setData(\"name\", instance.guid);\n        });\n        fromEvent(ele, 'dragleave').subscribe((ev: DragEvent) => {\n            // dragend 删除这一个\n        });\n        fromEvent(ele, 'dragend').subscribe((ev: DragEvent) => {\n            // dragend 删除这一个\n            // this.history.removeComponentByUuid(uuid);\n        });\n    }\n/**\n * @param {?} instance\n * @return {?}\n */\nprivate setDrop(instance: ReactComponent<any, any>) {\n        const /** @type {?} */ ele = instance.ele.nativeElement;\n        fromEvent(ele, 'drop').subscribe((ev: DragEvent) => {\n            ev.preventDefault();\n            ev.stopPropagation();\n            var /** @type {?} */ data = ev.dataTransfer.getData(\"name\");\n            if (instance.guid !== data) {\n                // 自己放置自己 忽略 否则提示是放入内部还是互换位置\n                let /** @type {?} */ props = this.getInstanceProps(data);\n                if (props) {\n                    instance.props.children.push(props);\n                }\n            }\n        });\n        fromEvent(ele, 'dragover').subscribe((ev: DragEvent) => {\n            ele.style.bor\n            ev.preventDefault();\n            ev.stopPropagation();\n        });\n    }\n/**\n * @param {?} uuid\n * @return {?}\n */\nprivate getInstanceProps(uuid: string) {\n        let /** @type {?} */ props: DesignLibraryProp;\n        this.instances.map(res => {\n            if (res.guid === uuid) {\n                props = res.props;\n            }\n        });\n        return props;\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{ selector: '[ngComponent]' }, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ViewContainerRef, },\n{type: TemplateRef, },\n{type: IterableDiffers, },\n{type: DesignLibraryService, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'ngComponent': [{ type: Input },],\n'ngComponentPreview': [{ type: Input },],\n'ngComponentState': [{ type: Input },],\n'ngComponentClass': [{ type: Input },],\n'ngComponentStyle': [{ type: Input },],\n'ngComponentDrag': [{ type: Input },],\n'ngComponentDrop': [{ type: Input },],\n'ngComponentClick': [{ type: Input },],\n};\n}\n\nfunction NgComponentDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nNgComponentDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nNgComponentDirective.ctorParameters;\n/** @type {?} */\nNgComponentDirective.propDecorators;\n/** @type {?} */\nNgComponentDirective.prototype.viewContainerRef;\n/** @type {?} */\nNgComponentDirective.prototype.componentRef;\n/** @type {?} */\nNgComponentDirective.prototype.moduleRef;\n/** @type {?} */\nNgComponentDirective.prototype.ngComponent;\n/** @type {?} */\nNgComponentDirective.prototype.ngComponentPreview;\n/** @type {?} */\nNgComponentDirective.prototype.ngComponentState;\n/** @type {?} */\nNgComponentDirective.prototype.ngComponentClass;\n/** @type {?} */\nNgComponentDirective.prototype.ngComponentStyle;\n/** @type {?} */\nNgComponentDirective.prototype.ngComponentDrag;\n/** @type {?} */\nNgComponentDirective.prototype.ngComponentDrop;\n/** @type {?} */\nNgComponentDirective.prototype.ngComponentClick;\n/** @type {?} */\nNgComponentDirective.prototype.instances;\n/** @type {?} */\nNgComponentDirective.prototype._differ;\n/** @type {?} */\nNgComponentDirective.prototype._viewContainerRef;\n/** @type {?} */\nNgComponentDirective.prototype._template;\n/** @type {?} */\nNgComponentDirective.prototype.differs;\n/** @type {?} */\nNgComponentDirective.prototype.librarys;\n}\n\nexport class InstanceComponent {\n/**\n * @param {?} guid\n * @param {?} props\n */\nconstructor(\npublic guid: string,\npublic props: DesignLibraryProp\n    ) { }\n}\n\nfunction InstanceComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nInstanceComponent.prototype.guid;\n/** @type {?} */\nInstanceComponent.prototype.props;\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Type, Injector, NgModuleFactory } from '@angular/core';\n/**\n * @template T\n * @param {?} arr\n * @return {?}\n */\nfunction flatten<T>(arr: T[][]): T[] {\n    return Array.prototype.concat.apply([], arr);\n}\n// 页面组件结构\nexport interface DesignLibraryProp {\n    children: DesignLibraryProp[];\n    name: string;\n    uuid?: string;\n    props: any,\n    state?: any,\n    title: string;\n}\n// 历史记录结构\nexport interface DesignHistoryProp {\n    name: string;\n    data: DesignLibraryProp[];\n}\n\nimport { Injectable, InjectionToken, Inject } from '@angular/core';\nexport const /** @type {?} */ DESIGN_LIBRARYS = new InjectionToken('DESIGN_LIBRARYS');\nexport class DesignApiService {\nconstructor() { }\n/**\n * @param {?} id\n * @return {?}\n */\nget(id: string) { }\n/**\n * @param {?} data\n * @param {?} id\n * @return {?}\n */\nsave(data: any, id: string) { }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction DesignApiService_tsickle_Closure_declarations() {\n/** @type {?} */\nDesignApiService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDesignApiService.ctorParameters;\n}\n\nexport class DesignLibraryService {\nprivate components: { [key: string]: Type<any> }[] = [];\n/**\n * @param {?} components\n */\nconstructor(\n         components: any\n    ) {\n        this.components = flatten(components);\n    }\n/**\n * @param {?} name\n * @return {?}\n */\nget(name: string) {\n        let /** @type {?} */ com: any;\n        this.components.map(item => {\n            if (item[name]) {\n                com = item[name];\n            }\n        });\n        return com;\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Inject, args: [DESIGN_LIBRARYS, ] }, ]},\n];\n}\n\nfunction DesignLibraryService_tsickle_Closure_declarations() {\n/** @type {?} */\nDesignLibraryService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDesignLibraryService.ctorParameters;\n/** @type {?} */\nDesignLibraryService.prototype.components;\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"],"names":["fromEvent","router","flatten","Subject"],"mappings":"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"}
